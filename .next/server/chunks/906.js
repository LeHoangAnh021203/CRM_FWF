"use strict";exports.id=906,exports.ids=[906],exports.modules={52906:(e,t,s)=>{s.r(t),s.d(t,{TasksWidget:()=>I});var r=s(60687),a=s(43210),n=s(44493),i=s(98599),d=s(11273),l=s(70569),o=s(65551),c=s(18853),u=s(46059),m=s(14163),p="Checkbox",[h,x]=(0,d.A)(p),[f,g]=h(p);function y(e){let{__scopeCheckbox:t,checked:s,children:n,defaultChecked:i,disabled:d,form:l,name:c,onCheckedChange:u,required:m,value:h="on",internal_do_not_use_render:x}=e,[g,y]=(0,o.i)({prop:s,defaultProp:i??!1,onChange:u,caller:p}),[v,b]=a.useState(null),[j,k]=a.useState(null),N=a.useRef(!1),w=!v||!!l||!!v.closest("form"),C={checked:g,disabled:d,setChecked:y,control:v,setControl:b,name:c,form:l,value:h,hasConsumerStoppedPropagationRef:N,required:m,defaultChecked:!T(i)&&i,isFormControl:w,bubbleInput:j,setBubbleInput:k};return(0,r.jsx)(f,{scope:t,...C,children:"function"==typeof x?x(C):n})}var v="CheckboxTrigger",b=a.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:s,...n},d)=>{let{control:o,value:c,disabled:u,checked:p,required:h,setControl:x,setChecked:f,hasConsumerStoppedPropagationRef:y,isFormControl:b,bubbleInput:j}=g(v,e),k=(0,i.s)(d,x),N=a.useRef(p);return a.useEffect(()=>{let e=o?.form;if(e){let t=()=>f(N.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[o,f]),(0,r.jsx)(m.sG.button,{type:"button",role:"checkbox","aria-checked":T(p)?"mixed":p,"aria-required":h,"data-state":E(p),"data-disabled":u?"":void 0,disabled:u,value:c,...n,ref:k,onKeyDown:(0,l.m)(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,l.m)(s,e=>{f(e=>!!T(e)||!e),j&&b&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())})})});b.displayName=v;var j=a.forwardRef((e,t)=>{let{__scopeCheckbox:s,name:a,checked:n,defaultChecked:i,required:d,disabled:l,value:o,onCheckedChange:c,form:u,...m}=e;return(0,r.jsx)(y,{__scopeCheckbox:s,checked:n,defaultChecked:i,disabled:l,required:d,onCheckedChange:c,name:a,form:u,value:o,internal_do_not_use_render:({isFormControl:e})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b,{...m,ref:t,__scopeCheckbox:s}),e&&(0,r.jsx)(C,{__scopeCheckbox:s})]})})});j.displayName=p;var k="CheckboxIndicator",N=a.forwardRef((e,t)=>{let{__scopeCheckbox:s,forceMount:a,...n}=e,i=g(k,s);return(0,r.jsx)(u.C,{present:a||T(i.checked)||!0===i.checked,children:(0,r.jsx)(m.sG.span,{"data-state":E(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t,style:{pointerEvents:"none",...e.style}})})});N.displayName=k;var w="CheckboxBubbleInput",C=a.forwardRef(({__scopeCheckbox:e,...t},s)=>{let{control:n,hasConsumerStoppedPropagationRef:d,checked:l,defaultChecked:o,required:u,disabled:p,name:h,value:x,form:f,bubbleInput:y,setBubbleInput:v}=g(w,e),b=(0,i.s)(s,v),j=function(e){let t=a.useRef({value:e,previous:e});return a.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}(l),k=(0,c.X)(n);a.useEffect(()=>{if(!y)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!d.current;if(j!==l&&e){let s=new Event("click",{bubbles:t});y.indeterminate=T(l),e.call(y,!T(l)&&l),y.dispatchEvent(s)}},[y,j,l,d]);let N=a.useRef(!T(l)&&l);return(0,r.jsx)(m.sG.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??N.current,required:u,disabled:p,name:h,value:x,form:f,...t,tabIndex:-1,ref:b,style:{...t.style,...k,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function T(e){return"indeterminate"===e}function E(e){return T(e)?"indeterminate":e?"checked":"unchecked"}C.displayName=w;var R=s(13964),S=s(4780);let A=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)(j,{ref:s,className:(0,S.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:(0,r.jsx)(N,{className:(0,S.cn)("flex items-center justify-center text-current"),children:(0,r.jsx)(R.A,{className:"h-4 w-4"})})}));A.displayName=j.displayName;var P=s(96834),$=s(29523),D=s(89667),F=s(96474),O=s(11860);let Z="https://ed56edc8f406.ngrok-free.app";function I(){let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)(""),[d,l]=(0,a.useState)(!1),[o,c]=(0,a.useState)(!0),[u,m]=(0,a.useState)(null),p=async s=>{t(e.map(e=>e.id===s?{...e,completed:!e.completed}:e));try{let t=e.find(e=>e.id===s);if(t){let e=new AbortController,r=setTimeout(()=>e.abort(),1e4),a=await fetch(`${Z}/api/dashboard/tasks/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:!t.completed}),signal:e.signal});if(clearTimeout(r),!a.ok)throw Error(`HTTP error! status: ${a.status}`)}}catch(s){console.warn("Failed to update task:",s),t(e)}},h=async()=>{if(s.trim()){let r={id:Date.now(),title:s,priority:"medium",completed:!1,dueDate:"Today"};try{let s=new AbortController,a=setTimeout(()=>s.abort(),1e4),n=await fetch(`${Z}/api/dashboard/tasks`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r),signal:s.signal});if(clearTimeout(a),n.ok){let s=await n.json();t([...e,s]),i(""),l(!1)}else throw Error(`HTTP error! status: ${n.status}`)}catch(s){console.warn("Failed to add task:",s),t([...e,r]),i(""),l(!1)}}};return o?(0,r.jsxs)(n.Zp,{className:"bg-white",children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)("div",{className:"h-6 bg-gray-200 rounded animate-pulse mb-2 w-24"}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-48"})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"h-4 w-4 bg-gray-200 rounded animate-pulse"}),(0,r.jsx)("div",{className:"flex-1",children:(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-32"})}),(0,r.jsx)("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-12"})]},t))})})]}):u?(0,r.jsxs)(n.Zp,{className:"bg-white",children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{className:"text-lg font-semibold",children:"Recent Tasks"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Your upcoming and completed tasks"})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,r.jsx)("p",{children:"Failed to load tasks"}),(0,r.jsx)("p",{className:"text-sm mt-2",children:u})]})})]}):(0,r.jsxs)(n.Zp,{className:"bg-white",children:[(0,r.jsxs)(n.aR,{children:[(0,r.jsx)(n.ZB,{className:"text-lg font-semibold",children:"Recent Tasks"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Your upcoming and completed tasks"})]}),(0,r.jsxs)(n.Wu,{children:[d?(0,r.jsxs)("div",{className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg",children:[(0,r.jsx)(D.p,{placeholder:"Enter new task...",value:s,onChange:e=>i(e.target.value),onKeyPress:e=>"Enter"===e.key&&h(),className:"flex-1"}),(0,r.jsx)($.$,{size:"sm",onClick:h,children:(0,r.jsx)(F.A,{className:"h-4 w-4"})}),(0,r.jsx)($.$,{size:"sm",variant:"outline",onClick:()=>l(!1),children:(0,r.jsx)(O.A,{className:"h-4 w-4"})})]}):(0,r.jsxs)($.$,{variant:"outline",size:"sm",onClick:()=>l(!0),className:"w-full mb-4",children:[(0,r.jsx)(F.A,{className:"h-4 w-4 mr-2"}),"Add New Task"]}),(0,r.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,r.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50",children:[(0,r.jsx)(A,{checked:e.completed,onCheckedChange:()=>p(e.id),className:"data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("p",{className:`font-medium ${e.completed?"line-through text-gray-500":"text-gray-900"}`,children:e.title}),(0,r.jsx)("p",{className:"text-sm text-gray-500",children:e.dueDate})]}),(0,r.jsx)(P.E,{variant:"high"===e.priority?"destructive":"medium"===e.priority?"default":"secondary",children:e.priority})]},e.id))}),(0,r.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,r.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,r.jsxs)("span",{children:["Completed: ",e.filter(e=>e.completed).length]}),(0,r.jsxs)("span",{children:["Remaining: ",e.filter(e=>!e.completed).length]})]})})]})]})}},96474:(e,t,s)=>{s.d(t,{A:()=>r});let r=(0,s(62688).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},96834:(e,t,s)=>{s.d(t,{E:()=>d});var r=s(60687);s(43210);var a=s(24224),n=s(4780);let i=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:t,...s}){return(0,r.jsx)("div",{className:(0,n.cn)(i({variant:t}),e),...s})}}};