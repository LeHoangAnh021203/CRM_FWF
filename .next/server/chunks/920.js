"use strict";exports.id=920,exports.ids=[920],exports.modules={40920:(e,t,r)=>{r.r(t),r.d(t,{default:()=>H});var a=r(60687),i=r(43210),n=r.n(i),o=r(48482),d=r(2041),l=r(85168),f=r(27747),u=r(19598),K=r(23812),m=r(15202),s=r(515),h=r(98845);let H=({isMobile:e,customerTypeSalesByDay:t})=>{let r=n().useMemo(()=>{let e=new Map;return t.forEach(t=>{let r=[t.KHTraiNghiem||0,t.KHIron||0,t.KHSilver||0,t.KHBronze||0,t.KHDiamond||0,t.Khac||0];e.set(t.date,Math.max(...r))}),e},[t]),i=n().useMemo(()=>{let e={KHTraiNghiem:{date:"",value:0},KHIron:{date:"",value:0},KHSilver:{date:"",value:0},KHBronze:{date:"",value:0},KHDiamond:{date:"",value:0},Khac:{date:"",value:0}};return t.forEach(t=>{(t.KHTraiNghiem||0)>e.KHTraiNghiem.value&&(e.KHTraiNghiem={date:t.date,value:t.KHTraiNghiem||0}),(t.KHIron||0)>e.KHIron.value&&(e.KHIron={date:t.date,value:t.KHIron||0}),(t.KHSilver||0)>e.KHSilver.value&&(e.KHSilver={date:t.date,value:t.KHSilver||0}),(t.KHBronze||0)>e.KHBronze.value&&(e.KHBronze={date:t.date,value:t.KHBronze||0}),(t.KHDiamond||0)>e.KHDiamond.value&&(e.KHDiamond={date:t.date,value:t.KHDiamond||0}),(t.Khac||0)>e.Khac.value&&(e.Khac={date:t.date,value:t.Khac||0})}),e},[t]);return(0,a.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-lg mt-5 p-2 sm:p-4",children:[(0,a.jsx)("div",{className:"text-base sm:text-xl font-medium text-gray-700 text-center mb-4",children:"Tổng thực thu theo loại kh\xe1ch h\xe0ng trong tuần"}),(0,a.jsx)("div",{className:"w-full overflow-x-auto",children:(0,a.jsx)(o.u,{width:"100%",height:e?300:400,minWidth:280,children:(0,a.jsxs)(d.E,{data:t,margin:{top:e?30:50,right:e?10:30,left:e?10:20,bottom:e?20:5},children:[(0,a.jsx)(l.d,{strokeDasharray:"3 3"}),(0,a.jsx)(f.W,{dataKey:"date",angle:e?-45:0,textAnchor:e?"end":"middle",height:e?60:30,fontSize:e?10:12,tickFormatter:e=>{if(!e||"string"!=typeof e)return e;if(e.includes("-")){let t=new Date(e);if(!isNaN(t.getTime()))return`${String(t.getDate()).padStart(2,"0")}/${String(t.getMonth()+1).padStart(2,"0")}`}return e},tick:t=>{let{x:r,y:i,payload:n}=t,o=n.value,d=(()=>{if(!o)return!1;let e=String(o).match(/^(\d{4})-(\d{2})-(\d{2})/);if(e){let[,t,r,a]=e,i=new Date(parseInt(t),parseInt(r)-1,parseInt(a)).getDay();return 0===i||6===i}return!1})();return(0,a.jsx)("g",{transform:`translate(${r},${i})`,children:(0,a.jsx)("text",{x:0,y:0,dy:16,textAnchor:e?"end":"middle",fill:d?"#dc2626":"#6b7280",fontSize:e?10:12,fontWeight:d?"bold":"normal",children:(()=>{if(!o||"string"!=typeof o)return o;if(o.includes("-")){let e=new Date(o);if(!isNaN(e.getTime()))return`${String(e.getDate()).padStart(2,"0")}/${String(e.getMonth()+1).padStart(2,"0")}`}return o})()})})}}),(0,a.jsx)(u.h,{tickFormatter:e=>"number"==typeof e&&e>=1e6?(e/1e6).toFixed(1)+"M":"number"==typeof e?e.toLocaleString():e,fontSize:e?10:12,width:e?60:80}),(0,a.jsx)(K.m,{formatter:e=>"number"==typeof e?e>=1e6?(e/1e6).toFixed(1)+"M":e.toLocaleString():e,contentStyle:{fontSize:e?12:14,backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #ccc",borderRadius:"4px",padding:"8px"}}),(0,a.jsx)(m.s,{wrapperStyle:{fontSize:e?10:12,paddingTop:e?10:20}}),(0,a.jsx)(s.y,{dataKey:"KHTraiNghiem",name:"KH trải nghiệm",fill:"#8d6e63",maxBarSize:e?120:150,children:(0,a.jsx)(h.Z,{dataKey:"KHTraiNghiem",position:"top",fontSize:e?10:12,fill:"#8d6e63",formatter:a=>{if("number"==typeof a&&0===a)return"";if(e){let e=t.find(e=>e.KHTraiNghiem===a);return e?e.date===i.KHTraiNghiem.date&&a===i.KHTraiNghiem.value?a>=1e6?(a/1e6).toFixed(1)+"M":a.toString():"":""}{let e=t.find(e=>e.KHTraiNghiem===a);if(!e)return"";let i=r.get(e.date)||0;return"number"==typeof a&&a===i&&a>0?a>=1e6?(a/1e6).toFixed(1)+"M":a.toString():""}}})}),(0,a.jsx)(s.y,{dataKey:"KHIron",name:"KH Iron",fill:"#b6d47a",maxBarSize:e?120:150,children:(0,a.jsx)(h.Z,{dataKey:"KHIron",position:"top",fontSize:e?10:12,fill:"#b6d47a",formatter:a=>{if("number"==typeof a&&0===a)return"";if(e){let e=t.find(e=>e.KHIron===a);return e?e.date===i.KHIron.date&&a===i.KHIron.value?a>=1e6?(a/1e6).toFixed(1)+"M":a.toString():"":""}{let e=t.find(e=>e.KHIron===a);if(!e)return"";let i=r.get(e.date)||0;return"number"==typeof a&&a===i&&a>0?a>=1e6?(a/1e6).toFixed(1)+"M":a.toString():""}}})}),(0,a.jsx)(s.y,{dataKey:"KHSilver",name:"KH Silver",fill:"#ff7f7f",maxBarSize:e?120:150,children:(0,a.jsx)(h.Z,{dataKey:"KHSilver",position:"top",fontSize:e?10:12,fill:"#ff7f7f",formatter:a=>{if("number"==typeof a&&0===a)return"";if(e){let e=t.find(e=>e.KHSilver===a);return e?e.date===i.KHSilver.date&&a===i.KHSilver.value?a>=1e6?(a/1e6).toFixed(1)+"M":a.toString():"":""}{let e=t.find(e=>e.KHSilver===a);if(!e)return"";let i=r.get(e.date)||0;return"number"==typeof a&&a===i&&a>0?a>=1e6?(a/1e6).toFixed(1)+"M":a.toString():""}}})}),(0,a.jsx)(s.y,{dataKey:"KHBronze",name:"KH Bronze",fill:"#81d4fa",maxBarSize:e?120:150,children:(0,a.jsx)(h.Z,{dataKey:"KHBronze",position:"top",fontSize:e?10:12,fill:"#81d4fa",formatter:a=>{if("number"==typeof a&&0===a)return"";if(e){let e=t.find(e=>e.KHBronze===a);return e?e.date===i.KHBronze.date&&a===i.KHBronze.value?a>=1e6?(a/1e6).toFixed(1)+"M":a.toString():"":""}{let e=t.find(e=>e.KHBronze===a);if(!e)return"";let i=r.get(e.date)||0;return"number"==typeof a&&a===i&&a>0?a>=1e6?(a/1e6).toFixed(1)+"M":a.toString():""}}})}),(0,a.jsx)(s.y,{dataKey:"KHDiamond",name:"KH Diamond",fill:"#f0bf4c",maxBarSize:e?120:150,children:(0,a.jsx)(h.Z,{dataKey:"KHDiamond",position:"top",fontSize:e?10:12,fill:"#f0bf4c",formatter:a=>{if("number"==typeof a&&0===a)return"";if(e){let e=t.find(e=>e.KHDiamond===a);return e?e.date===i.KHDiamond.date&&a===i.KHDiamond.value?a>=1e6?(a/1e6).toFixed(1)+"M":a.toString():"":""}{let e=t.find(e=>e.KHDiamond===a);if(!e)return"";let i=r.get(e.date)||0;return"number"==typeof a&&a===i&&a>0?a>=1e6?(a/1e6).toFixed(1)+"M":a.toString():""}}})}),(0,a.jsx)(s.y,{dataKey:"Khac",name:"Kh\xe1c",fill:"#bccefb",maxBarSize:e?120:150,children:(0,a.jsx)(h.Z,{dataKey:"Khac",position:"top",fontSize:e?10:12,fill:"#bccefb",formatter:a=>{if("number"==typeof a&&0===a)return"";if(e){let e=t.find(e=>e.Khac===a);return e?e.date===i.Khac.date&&a===i.Khac.value?a>=1e6?(a/1e6).toFixed(1)+"M":a.toString():"":""}{let e=t.find(e=>e.Khac===a);if(!e)return"";let i=r.get(e.date)||0;return"number"==typeof a&&a===i&&a>0?a>=1e6?(a/1e6).toFixed(1)+"M":a.toString():""}}})})]})})})]})}}};