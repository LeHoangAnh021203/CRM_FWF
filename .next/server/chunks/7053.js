"use strict";exports.id=7053,exports.ids=[7053],exports.modules={17053:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var o=a(60687),r=a(43210),n=a.n(r),l=a(48482),d=a(2041),i=a(85168),h=a(27747),u=a(19598),f=a(23812),s=a(15202),p=a(515),m=a(98845);let x=({storeTypeSalesByDay:e,formatAxisDate:t})=>{let[a,r]=n().useState(!1),x=n().useMemo(()=>{let t=new Map;return e.forEach(e=>{let a=[e.Mall||0,e.Shophouse||0,e.NhaPho||0,e.DaDongCua||0,e.Khac||0];t.set(e.date,Math.max(...a))}),t},[e]),c=n().useMemo(()=>{let t={Mall:{date:"",value:0},Shophouse:{date:"",value:0},NhaPho:{date:"",value:0},DaDongCua:{date:"",value:0},Khac:{date:"",value:0}};return e.forEach(e=>{(e.Mall||0)>t.Mall.value&&(t.Mall={date:e.date,value:e.Mall||0}),(e.Shophouse||0)>t.Shophouse.value&&(t.Shophouse={date:e.date,value:e.Shophouse||0}),(e.NhaPho||0)>t.NhaPho.value&&(t.NhaPho={date:e.date,value:e.NhaPho||0}),(e.DaDongCua||0)>t.DaDongCua.value&&(t.DaDongCua={date:e.date,value:e.DaDongCua||0}),(e.Khac||0)>t.Khac.value&&(t.Khac={date:e.date,value:e.Khac||0})}),t},[e]);n().useEffect(()=>{let e=()=>{r(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let g=n().useMemo(()=>Math.max(...e.flatMap(e=>[e.Mall||0,e.Shophouse||0,e.NhaPho||0,e.DaDongCua||0,e.Khac||0])),[e]);return(0,o.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-lg mt-5 p-2 sm:p-4",children:[(0,o.jsx)("div",{className:"text-sm sm:text-base md:text-xl font-medium text-gray-700 text-center mb-4",children:"Tổng doanh số loại cửa h\xe0ng"}),(0,o.jsx)("div",{className:"w-full overflow-x-auto",children:(0,o.jsx)(l.u,{width:"100%",height:a?300:400,minWidth:280,children:(0,o.jsxs)(d.E,{data:e,margin:{top:a?30:50,right:a?10:30,left:a?10:20,bottom:a?20:5},children:[(0,o.jsx)(i.d,{strokeDasharray:"3 3"}),(0,o.jsx)(h.W,{dataKey:"date",tickFormatter:t,fontSize:a?10:12,angle:a?-45:0,textAnchor:a?"end":"middle",height:a?60:30,tick:e=>{let{x:r,y:n,payload:l}=e,d=l.value,i=(()=>{if(!d)return!1;let e=String(d).match(/^(\d{4})-(\d{2})-(\d{2})/);if(e){let[,t,a,o]=e,r=new Date(parseInt(t),parseInt(a)-1,parseInt(o)).getDay();return 0===r||6===r}return!1})();return(0,o.jsx)("g",{transform:`translate(${r},${n})`,children:(0,o.jsx)("text",{x:0,y:0,dy:16,textAnchor:"middle",fill:i?"#dc2626":"#6b7280",fontSize:a?10:12,fontWeight:i?"bold":"normal",children:t(d)})})}}),(0,o.jsx)(u.h,{domain:[0,+g],tickFormatter:e=>"number"==typeof e&&e>=1e6?(e/1e6).toFixed(1)+"M":"number"==typeof e?e.toLocaleString():e,fontSize:a?10:12,width:a?60:80}),(0,o.jsx)(f.m,{formatter:e=>"number"==typeof e?e>=1e6?`${(e/1e6).toFixed(1)}M`:e.toLocaleString():e,contentStyle:{fontSize:a?12:14,backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #ccc",borderRadius:"4px",padding:"8px"}}),(0,o.jsx)(s.s,{wrapperStyle:{fontSize:a?10:12,paddingTop:a?10:20}}),(0,o.jsx)(p.y,{dataKey:"Mall",name:"Mall",fill:"#ff7f7f",children:(0,o.jsx)(m.Z,{dataKey:"Mall",position:"top",fontSize:a?10:12,fill:"#ff7f7f",formatter:t=>{if("number"==typeof t&&0===t)return"";if(a){let a=e.find(e=>e.Mall===t);return a&&a.date===c.Mall.date&&t===c.Mall.value?(t/1e6).toFixed(1)+"M":""}{let a=e.find(e=>e.Mall===t);if(!a)return"";let o=x.get(a.date)||0;return"number"==typeof t&&t===o&&t>0?(t/1e6).toFixed(1)+"M":""}}})}),(0,o.jsx)(p.y,{dataKey:"Shophouse",name:"Shophouse",fill:"#b39ddb",children:(0,o.jsx)(m.Z,{dataKey:"Shophouse",position:"top",fontSize:a?10:12,fill:"#b39ddb",formatter:t=>{if("number"==typeof t&&0===t)return"";if(a){let a=e.find(e=>e.Shophouse===t);return a&&a.date===c.Shophouse.date&&t===c.Shophouse.value?(t/1e6).toFixed(1)+"M":""}{let a=e.find(e=>e.Shophouse===t);if(!a)return"";let o=x.get(a.date)||0;return"number"==typeof t&&t===o&&t>0?(t/1e6).toFixed(1)+"M":""}}})}),(0,o.jsx)(p.y,{dataKey:"NhaPho",name:"Nh\xe0 phố",fill:"#8d6e63",children:(0,o.jsx)(m.Z,{dataKey:"NhaPho",position:"top",fontSize:a?10:12,fill:"#8d6e63",formatter:t=>{if("number"==typeof t&&0===t)return"";if(a){let a=e.find(e=>e.NhaPho===t);return a&&a.date===c.NhaPho.date&&t===c.NhaPho.value?(t/1e6).toFixed(1)+"M":""}{let a=e.find(e=>e.NhaPho===t);if(!a)return"";let o=x.get(a.date)||0;return"number"==typeof t&&t===o&&t>0?(t/1e6).toFixed(1)+"M":""}}})}),(0,o.jsx)(p.y,{dataKey:"DaDongCua",name:"Đ\xe3 đ\xf3ng cửa",fill:"#c5e1a5",children:(0,o.jsx)(m.Z,{dataKey:"DaDongCua",position:"top",fontSize:a?10:12,fill:"#c5e1a5",formatter:t=>{if("number"==typeof t&&0===t)return"";if(a){let a=e.find(e=>e.DaDongCua===t);return a?a.date===c.DaDongCua.date&&t===c.DaDongCua.value?t>=1e6?(t/1e6).toFixed(1)+"M":t.toString():"":""}{let a=e.find(e=>e.DaDongCua===t);if(!a)return"";let o=x.get(a.date)||0;return"number"==typeof t&&t===o&&t>0?t>=1e6?(t/1e6).toFixed(1)+"M":t.toString():""}}})}),(0,o.jsx)(p.y,{dataKey:"Khac",name:"Kh\xe1c",fill:"#81d4fa",children:(0,o.jsx)(m.Z,{dataKey:"Khac",position:"top",fontSize:a?10:12,fill:"#81d4fa",formatter:t=>{if("number"==typeof t&&0===t)return"";if(a){let a=e.find(e=>e.Khac===t);return a&&a.date===c.Khac.date&&t===c.Khac.value?(t/1e6).toFixed(1)+"M":""}{let a=e.find(e=>e.Khac===t);if(!a)return"";let o=x.get(a.date)||0;return"number"==typeof t&&t===o&&t>0?(t/1e6).toFixed(1)+"M":""}}})})]})})})]})}}};