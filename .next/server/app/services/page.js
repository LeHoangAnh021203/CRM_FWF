(()=>{var e={};e.id=5763,e.ids=[5763],e.modules={1103:(e,t,s)=>{Promise.resolve().then(s.bind(s,34346))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13193:(e,t,s)=>{"use strict";s.d(t,{E:()=>o,h:()=>d});var a=s(60687),r=s(43210),l=s(5336),i=s(35071),n=s(11860);let o=({type:e,message:t,isVisible:s,onClose:o,duration:d=5e3})=>{let[c,u]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{if(s){u(!0);let e=setTimeout(()=>{u(!1),setTimeout(o,300)},d);return()=>clearTimeout(e)}},[s,d,o]),!s)return null;let h="success"===e?"text-green-800":"text-red-800",m="success"===e?l.A:i.A;return(0,a.jsx)("div",{className:`fixed top-4 right-4 z-50 max-w-sm w-full transition-all duration-300 ease-in-out ${c?"opacity-100 translate-y-0":"opacity-0 -translate-y-2"}`,children:(0,a.jsx)("div",{className:`${"success"===e?"bg-green-50":"bg-red-50"} border ${"success"===e?"border-green-200":"border-red-200"} rounded-lg shadow-lg p-4`,children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(m,{className:`h-5 w-5 ${"success"===e?"text-green-400":"text-red-400"}`})}),(0,a.jsx)("div",{className:"ml-3 flex-1",children:(0,a.jsx)("p",{className:`text-sm font-medium ${h}`,children:t})}),(0,a.jsx)("div",{className:"ml-4 flex-shrink-0",children:(0,a.jsx)("button",{onClick:()=>{u(!1),setTimeout(o,300)},className:`inline-flex ${h} hover:${h} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-${"success"===e?"green":"red"}-500`,children:(0,a.jsx)(n.A,{className:"h-4 w-4"})})})]})})})},d=()=>{let[e,t]=(0,r.useState)({type:"success",message:"",isVisible:!1});return{notification:e,showSuccess:e=>{t({type:"success",message:e,isVisible:!0})},showError:e=>{t({type:"error",message:e,isVisible:!0})},hideNotification:()=>{t(e=>({...e,isVisible:!1}))}}}},18873:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d});var a=s(65239),r=s(48088),l=s(88170),i=s.n(l),n=s(30893),o={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d={children:["",{children:["services",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,31331)),"/Users/lehoanganh/Documents/FB Network/FE/src/app/services/page.tsx"]}]},{loading:[()=>Promise.resolve().then(s.bind(s,20184)),"/Users/lehoanganh/Documents/FB Network/FE/src/app/services/loading.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,94431)),"/Users/lehoanganh/Documents/FB Network/FE/src/app/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,67393)),"/Users/lehoanganh/Documents/FB Network/FE/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,54413)),"/Users/lehoanganh/Documents/FB Network/FE/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["/Users/lehoanganh/Documents/FB Network/FE/src/app/services/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/services/page",pathname:"/services",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},20184:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(37413);function r(){return(0,a.jsx)("div",{className:"p-2 sm:p-4 md:p-6",children:(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"p-2",children:[(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded animate-pulse mb-2 w-48"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-64"})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-20"}),(0,a.jsx)("div",{className:"h-10 bg-gray-200 rounded animate-pulse"})]},t))})}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded animate-pulse mb-4 w-48"}),(0,a.jsx)("div",{className:"h-64 bg-gray-200 rounded animate-pulse"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded animate-pulse mb-4 w-32"}),(0,a.jsx)("div",{className:"h-48 bg-gray-200 rounded animate-pulse"})]},t))}),(0,a.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded animate-pulse mb-4 w-40"}),(0,a.jsx)("div",{className:"h-48 bg-gray-200 rounded animate-pulse"})]},t))}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded animate-pulse mb-2 w-20"}),(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded animate-pulse mb-2 w-16"}),(0,a.jsx)("div",{className:"h-3 bg-gray-200 rounded animate-pulse w-12"})]},t))}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded animate-pulse mb-4 w-48"}),(0,a.jsx)("div",{className:"h-64 bg-gray-200 rounded animate-pulse"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded animate-pulse mb-4 w-40"}),(0,a.jsx)("div",{className:"h-64 bg-gray-200 rounded animate-pulse"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded animate-pulse mb-4 w-32"}),(0,a.jsx)("div",{className:"space-y-2",children:[...Array(8)].map((e,t)=>(0,a.jsx)("div",{className:"h-12 bg-gray-200 rounded animate-pulse"},t))})]})]})})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31331:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/lehoanganh/Documents/FB Network/FE/src/app/services/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/lehoanganh/Documents/FB Network/FE/src/app/services/page.tsx","default")},33873:e=>{"use strict";e.exports=require("path")},34346:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>M});var a=s(60687),r=s(43210),l=s.n(r),i=s(67763),n=s(7562);function o({startDate:e,endDate:t,setStartDate:s,setEndDate:i,today:o,getLocalTimeZone:d,selectedRegions:c,setSelectedRegions:u,selectedBranches:h,setSelectedBranches:m,selectedServiceTypes:x,setSelectedServiceTypes:p,selectedGenders:b,setSelectedGenders:f,regionOptions:g,locationOptions:v,filteredRegionOptions:y,ALL_SERVICE_TYPES:j,ALL_GENDERS:w,filteredServiceTypes:N,filteredGenders:S,genderActualPrice:k,formatMoneyShort:C}){let[_,T]=l().useState(""),[D,F]=l().useState(""),[R,L]=(0,r.useState)(!1),[A,$]=(0,r.useState)(!1),[E,z]=(0,r.useState)(!1),[P,M]=(0,r.useState)(!1),[K,W]=(0,r.useState)(""),[G,I]=(0,r.useState)(""),[B,V]=(0,r.useState)(""),[O,U]=(0,r.useState)(""),q=(0,r.useRef)(null),X=(0,r.useRef)(null),Z=(0,r.useRef)(null),H=(0,r.useRef)(null);return(0,a.jsxs)("div",{className:"w-full flex flex-col gap-4 md:flex-row md:gap-10",children:[(0,a.jsxs)("div",{className:"w-full max-w-xl flex flex-col gap-4 md:flex-row md:gap-4 bg-white p-2 rounded",children:[(0,a.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,a.jsx)("h3",{children:"Start date"}),(0,a.jsx)("input",{type:"date",className:"border rounded p-2 bg-white",value:e.toString(),onChange:e=>{s((0,n._U)(e.target.value))},max:o(d()).toString()})]}),(0,a.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,a.jsx)("h3",{children:"End date"}),(0,a.jsx)("input",{type:"date",className:"border rounded p-2 bg-white",value:t.toString(),onChange:e=>{i((0,n._U)(e.target.value))},min:D,max:_})]})]}),(0,a.jsx)("div",{className:"w-full flex flex-col gap-2",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-2 w-full",children:[(0,a.jsxs)("div",{className:"relative w-full sm:w-auto",ref:q,children:[(0,a.jsxs)("button",{className:"bg-yellow-300 px-3 py-2 rounded-lg font-bold flex items-center gap-2 w-full sm:w-auto border-b-2 border-yellow-400",onClick:()=>L(e=>!e),type:"button",children:[(0,a.jsx)("span",{className:"material-icons"})," Region"]}),R&&(0,a.jsxs)("div",{className:"absolute z-20 bg-white shadow-xl rounded-b-lg w-full min-w-[250px] border border-yellow-200",children:[(0,a.jsxs)("div",{className:"bg-yellow-200 px-4 py-2 font-bold flex items-center gap-2 border-b border-yellow-300",children:[(0,a.jsx)("input",{type:"checkbox",checked:c.length===g.length,onChange:()=>u(c.length===g.length?[]:g.map(e=>e.name)),className:"accent-yellow-400"}),"Region",(0,a.jsx)("span",{className:"ml-auto",children:"Branches "})]}),(0,a.jsx)("div",{className:"px-2 py-2 border-b",children:(0,a.jsx)("input",{className:"w-full border rounded px-2 py-1",placeholder:"Nhập để t\xecm kiếm",value:K,onChange:e=>W(e.target.value)})}),(0,a.jsx)("div",{className:"max-h-60 overflow-y-auto",children:y.map(e=>(0,a.jsxs)("label",{className:"flex items-center gap-2 px-4 py-2 hover:bg-yellow-50 cursor-pointer border-b last:border-b-0",children:[(0,a.jsx)("input",{type:"checkbox",checked:c.includes(e.name),onChange:()=>{u(t=>t.includes(e.name)?t.filter(t=>t!==e.name):[...t,e.name])},className:"accent-yellow-400"}),(0,a.jsx)("span",{className:"font-medium",children:e.name}),(0,a.jsx)("span",{className:"ml-auto text-right min-w-[70px] font-semibold",children:e.total})]},e.name))})]})]}),(0,a.jsxs)("div",{className:"relative w-full sm:w-auto",ref:X,children:[(0,a.jsxs)("button",{className:"bg-yellow-300 px-3 py-2 rounded-lg font-bold flex items-center gap-2 w-full sm:w-auto border-b-2 border-yellow-400",onClick:()=>$(e=>!e),type:"button",children:[(0,a.jsx)("span",{className:"material-icons"})," Locations"]}),A&&(0,a.jsxs)("div",{className:"absolute z-20 bg-white shadow-xl rounded-b-lg w-full min-w-[220px] border border-yellow-200",children:[(0,a.jsxs)("div",{className:"bg-yellow-100 px-4 py-2 font-bold flex items-center gap-2 border-b border-yellow-200",children:[(0,a.jsx)("input",{type:"checkbox",checked:h.length===v.length,onChange:()=>m(h.length===v.length?[]:[...v]),className:"accent-yellow-400"}),"Locations"]}),(0,a.jsx)("div",{className:"px-2 py-2 border-b",children:(0,a.jsx)("input",{className:"w-full border rounded px-2 py-1",placeholder:"Nhập để t\xecm kiếm",value:G,onChange:e=>I(e.target.value)})}),(0,a.jsx)("div",{className:"max-h-60 overflow-y-auto",children:v.filter(e=>e.toLowerCase().includes(G.toLowerCase())).map(e=>(0,a.jsxs)("label",{className:"flex items-center gap-2 px-4 py-2 hover:bg-yellow-50 cursor-pointer border-b last:border-b-0",children:[(0,a.jsx)("input",{type:"checkbox",checked:h.includes(e),onChange:()=>{m(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"accent-yellow-400"}),(0,a.jsx)("span",{className:"font-medium",children:e})]},e))})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,a.jsxs)("div",{className:"relative w-full sm:w-auto",ref:Z,children:[(0,a.jsxs)("button",{className:"bg-yellow-300 px-3 py-2 rounded-lg font-bold flex items-center gap-2 w-full sm:w-auto border-b-2 border-yellow-400",onClick:()=>z(e=>!e),type:"button",children:[(0,a.jsx)("span",{className:"material-icons"})," Services"]}),E&&(0,a.jsxs)("div",{className:"absolute z-20 bg-white shadow-xl rounded-b-lg w-full min-w-[180px] border border-yellow-200",children:[(0,a.jsxs)("div",{className:"bg-yellow-200 px-4 py-2 font-bold flex items-center gap-2 border-b border-yellow-300",children:[(0,a.jsx)("input",{type:"checkbox",checked:x.length===j.length,onChange:()=>p(x.length===j.length?[]:j.map(e=>e.key)),className:"accent-yellow-400"}),"Services"]}),(0,a.jsx)("div",{className:"px-2 py-2 border-b",children:(0,a.jsx)("input",{className:"w-full border rounded px-2 py-1",placeholder:"Nhập để t\xecm kiếm",value:B,onChange:e=>V(e.target.value)})}),(0,a.jsx)("div",{className:"max-h-60 overflow-y-auto",children:N.map(e=>(0,a.jsxs)("label",{className:"flex items-center gap-2 px-4 py-2 hover:bg-yellow-50 cursor-pointer border-b last:border-b-0",children:[(0,a.jsx)("input",{type:"checkbox",checked:x.includes(e.key),onChange:()=>{p(t=>t.includes(e.key)?t.filter(t=>t!==e.key):[...t,e.key])},className:"accent-yellow-400"}),(0,a.jsx)("span",{className:"font-medium",children:e.label})]},e.key))})]})]}),(0,a.jsxs)("div",{className:"relative w-full sm:w-auto",ref:H,children:[(0,a.jsxs)("button",{className:"bg-yellow-300 px-3 py-2 rounded-lg font-bold flex items-center gap-2 w-full sm:w-auto border-b-2 border-yellow-400",onClick:()=>M(e=>!e),type:"button",children:[(0,a.jsx)("span",{className:"material-icons"})," Gender"]}),P&&(0,a.jsxs)("div",{className:"absolute z-20 bg-white shadow-xl rounded-b-lg w-full min-w-[220px] border border-yellow-200",children:[(0,a.jsxs)("div",{className:"bg-yellow-200 px-4 py-2 font-bold flex items-center gap-2 border-b border-yellow-300",children:[(0,a.jsx)("input",{type:"checkbox",checked:b.length===w.length,onChange:()=>f(b.length===w.length?[]:[...w]),className:"accent-yellow-400"}),"Gender",(0,a.jsx)("span",{className:"ml-auto",children:"Actual price "})]}),(0,a.jsx)("div",{className:"px-2 py-2 border-b",children:(0,a.jsx)("input",{className:"w-full border rounded px-2 py-1",placeholder:"Nhập để t\xecm kiếm",value:O,onChange:e=>U(e.target.value)})}),(0,a.jsx)("div",{className:"max-h-60 overflow-y-auto",children:S.map(e=>{let t=k.find(t=>t.gender===e)?.total||0;return(0,a.jsxs)("label",{className:"flex items-center gap-2 px-4 py-2 hover:bg-yellow-50 cursor-pointer border-b last:border-b-0 justify-between",children:[(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:b.includes(e),onChange:()=>{f(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"accent-yellow-400"}),(0,a.jsx)("span",{className:"font-medium",children:e})]}),(0,a.jsx)("span",{className:"text-xs text-gray-500 min-w-[60px] text-right",children:C(t)})]},e)})})]})]})]})]})})]})}var d=s(48482),c=s(2041),u=s(85168),h=s(27747),m=s(19598),x=s(23812),p=s(15202),b=s(515),f=s(98845);function g({weeklyServiceChartData:e,isMobile:t}){let s=l().useMemo(()=>{let t=new Map;return e.forEach(e=>{let s=[e.combo||0,e.service||0,e.addedon||0,e.foxcard||0];t.set(e.date,Math.max(...s))}),t},[e]),r=l().useMemo(()=>{let t={combo:{date:"",value:0},service:{date:"",value:0},addedon:{date:"",value:0},foxcard:{date:"",value:0}};return e.forEach(e=>{(e.combo||0)>t.combo.value&&(t.combo={date:e.date,value:e.combo||0}),(e.service||0)>t.service.value&&(t.service={date:e.date,value:e.service||0}),(e.addedon||0)>t.addedon.value&&(t.addedon={date:e.date,value:e.addedon||0}),(e.foxcard||0)>t.foxcard.value&&(t.foxcard={date:e.date,value:e.foxcard||0})}),t},[e]),i=l().useMemo(()=>{let t=0;return e.forEach(e=>{let s=Math.max(e.combo||0,e.service||0,e.addedon||0,e.foxcard||0);s>t&&(t=s)}),t},[e]);return(0,a.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-lg mt-5 p-2 sm:p-4",children:[(0,a.jsx)("div",{className:"text-sm sm:text-base md:text-xl font-medium text-gray-700 text-center mb-4",children:"Tổng dịch vụ thực hiện trong tuần"}),(0,a.jsx)("div",{className:"w-full overflow-x-auto",children:(0,a.jsx)(d.u,{width:"100%",height:t?300:400,minWidth:280,children:(0,a.jsxs)(c.E,{data:e,margin:{top:t?30:50,right:t?10:30,left:t?10:20,bottom:t?20:5},barCategoryGap:t?2:4,barGap:t?1:2,children:[(0,a.jsx)(u.d,{strokeDasharray:"3 3"}),(0,a.jsx)(h.W,{dataKey:"date",fontSize:t?10:12,angle:t?-45:0,textAnchor:t?"end":"middle",height:t?60:30,tick:({x:e,y:s,payload:r})=>{let l=r.value,i=(()=>{try{let e=l.match(/^(\d{1,2}) thg (\d{1,2})$/);if(e){let[,t,s]=e,a=new Date().getFullYear(),r=new Date(a,parseInt(s)-1,parseInt(t)).getDay();return 0===r||6===r}return!1}catch{return!1}})();return(0,a.jsxs)("g",{transform:`translate(${e},${s})`,children:[(0,a.jsx)("text",{x:0,y:0,dy:16,textAnchor:t?"end":"middle",fill:i?"#ff6b6b":"#666",fontSize:t?10:12,fontWeight:i?"bold":"normal",children:r.value}),i&&(0,a.jsx)("rect",{x:-20,y:-5,width:40,height:20,fill:"rgba(255, 107, 107, 0.1)",rx:3})]})}}),(0,a.jsx)(m.h,{fontSize:t?10:12,width:t?60:80,domain:[0,i]}),(0,a.jsx)(x.m,{contentStyle:{fontSize:t?12:14,backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #ccc",borderRadius:"4px",padding:"8px"}}),(0,a.jsx)(p.s,{wrapperStyle:{fontSize:t?10:12,paddingTop:t?10:20}}),(0,a.jsx)(b.y,{dataKey:"combo",name:"Combo",fill:"#795548",maxBarSize:t?80:120,children:(0,a.jsx)(f.Z,{dataKey:"combo",position:"top",fontSize:t?10:12,fill:"#795548",formatter:a=>{if("number"==typeof a&&0===a)return"";if(t){let t=e.find(e=>e.combo===a);return t&&t.date===r.combo.date&&a===r.combo.value?a.toString():""}{let t=e.find(e=>e.combo===a);if(!t)return"";let r=s.get(t.date)||0;return"number"==typeof a&&a===r&&a>0?a.toString():""}}})}),(0,a.jsx)(b.y,{dataKey:"service",name:"Dịch vụ",fill:"#c5e1a5",maxBarSize:t?80:120,children:(0,a.jsx)(f.Z,{dataKey:"service",position:"top",fontSize:t?10:12,fill:"#c5e1a5",formatter:a=>{if("number"==typeof a&&0===a)return"";if(t){let t=e.find(e=>e.service===a);return t&&t.date===r.service.date&&a===r.service.value?a.toString():""}{let t=e.find(e=>e.service===a);if(!t)return"";let r=s.get(t.date)||0;return"number"==typeof a&&a===r&&a>0?a.toString():""}}})}),(0,a.jsx)(b.y,{dataKey:"addedon",name:"Added on",fill:"#f16a3f",maxBarSize:t?80:120,children:(0,a.jsx)(f.Z,{dataKey:"addedon",position:"top",fontSize:t?10:12,fill:"#f16a3f",formatter:a=>{if("number"==typeof a&&0===a)return"";if(t){let t=e.find(e=>e.addedon===a);return t&&t.date===r.addedon.date&&a===r.addedon.value?a.toString():""}{let t=e.find(e=>e.addedon===a);if(!t)return"";let r=s.get(t.date)||0;return"number"==typeof a&&a===r&&a>0?a.toString():""}}})}),(0,a.jsx)(b.y,{dataKey:"foxcard",name:"Fox card",fill:"#c86b82",maxBarSize:t?80:120,children:(0,a.jsx)(f.Z,{dataKey:"foxcard",position:"top",fontSize:t?10:12,fill:"#c86b82",formatter:a=>{if("number"==typeof a&&0===a)return"";if(t){let t=e.find(e=>e.foxcard===a);return t&&t.date===r.foxcard.date&&a===r.foxcard.value?a.toString():""}{let t=e.find(e=>e.foxcard===a);if(!t)return"";let r=s.get(t.date)||0;return"number"==typeof a&&a===r&&a>0?a.toString():""}}})})]})})})]})}var v=s(56651),y=s(56988),j=s(25679);let w=({active:e,payload:t,label:s})=>{if(e&&t&&t.length){let e=t[0],r=t.reduce((e,t)=>e+t.value,0),l=r>0?(e.value/r*100).toFixed(1):"0",i=s?.includes("gi\xe1 buổi")||s?.includes("doanh thu")||s?.includes("Top 10 dịch vụ theo gi\xe1 buổi");return console.log("Tooltip label:",s,"isRevenueChart:",i,"data.value:",e.value,"total:",r,"percentage:",l),(0,a.jsxs)("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.name||e.payload.label}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[i?"Doanh thu: ":"Số lượng: ",(0,a.jsx)("span",{className:"font-semibold",children:i?`${(e.value/1e6).toFixed(1)}M VNĐ`:e.value.toLocaleString()})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Tỷ lệ: ",(0,a.jsxs)("span",{className:"font-semibold",children:[l,"%"]})]})]})}return null};function N({pieChartData:e,pieTop10Data:t,pieTop10AvgData:s,top10ServicesLoading:r,top10ServicesError:l,top10ServicesUsageLoading:i,top10ServicesUsageError:n,isMobile:o,renderPieLabel:c}){return(0,a.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:gap-3",children:[(0,a.jsxs)("div",{className:"w-full sm:w-1/3 bg-white rounded-xl shadow-lg mt-5 p-4",children:[(0,a.jsx)("div",{className:"text-xl font-medium text-gray-700 text-center mb-4",children:"Tỉ lệ dịch vụ/combo/cộng th\xeam"}),(0,a.jsx)(d.u,{width:"100%",height:o?220:320,children:(0,a.jsxs)(v.r,{children:[(0,a.jsx)(y.F,{data:e,dataKey:"value",nameKey:"label",cx:"50%",cy:"50%",outerRadius:o?80:120,label:c,children:e.map(e=>(0,a.jsx)(j.f,{fill:e.color},e.key))}),(0,a.jsx)(x.m,{content:(0,a.jsx)(w,{label:"Tỉ lệ dịch vụ/combo/cộng th\xeam"})})]})}),(0,a.jsx)("div",{className:"overflow-hidden",children:(0,a.jsx)("ul",{className:"flex flex-wrap justify-center gap-2 mt-2 text-xs",children:e.map(e=>(0,a.jsxs)("li",{className:"flex items-start gap-1",children:[(0,a.jsx)("span",{className:"inline-block w-3 h-3 rounded-full flex-shrink-0 mt-0.5",style:{background:e.color}}),(0,a.jsx)("span",{className:"break-words",children:e.label})]},e.key))})})]}),(0,a.jsxs)("div",{className:"w-full sm:w-1/3 bg-white rounded-xl shadow-lg mt-5 p-4",children:[(0,a.jsx)("div",{className:"text-xl font-medium text-gray-700 text-center mb-4",children:"Top 10 dịch vụ theo số lượng"}),r&&(0,a.jsx)("div",{className:"text-blue-600 text-sm text-center mb-4",children:"\uD83D\uDD04 Đang tải dữ liệu top 10 dịch vụ..."}),l&&(0,a.jsxs)("div",{className:"text-red-600 text-sm text-center mb-4",children:["❌ Lỗi API top 10 dịch vụ: ",l]}),(0,a.jsx)(d.u,{width:"100%",height:o?220:320,children:(0,a.jsxs)(v.r,{children:[(0,a.jsx)(y.F,{data:t,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:o?80:120,label:c,children:t.map(e=>(0,a.jsx)(j.f,{fill:e.color},e.name))}),(0,a.jsx)(x.m,{content:(0,a.jsx)(w,{label:"Top 10 dịch vụ theo số lượng"})})]})}),(0,a.jsx)("div",{className:"overflow-hidden",children:(0,a.jsx)("ul",{className:"flex flex-wrap  gap-2 mt-2 text-xs",children:t.map(e=>(0,a.jsxs)("li",{className:"flex items-start gap-1",children:[(0,a.jsx)("span",{className:"inline-block w-3 h-3 rounded-full flex-shrink-0 mt-0.5",style:{background:e.color}}),(0,a.jsx)("span",{className:"break-words",children:e.name})]},e.name))})})]}),(0,a.jsxs)("div",{className:"w-full sm:w-1/3 bg-white rounded-xl shadow-lg mt-5 p-4",children:[(0,a.jsx)("div",{className:"text-xl font-medium text-gray-700 text-center mb-4",children:"Top 10 dịch vụ theo gi\xe1 buổi"}),i&&(0,a.jsx)("div",{className:"text-blue-600 text-sm text-center mb-4",children:"\uD83D\uDD04 Đang tải dữ liệu top 10 dịch vụ theo gi\xe1 buổi..."}),n&&(0,a.jsxs)("div",{className:"text-red-600 text-sm text-center mb-4",children:["❌ Lỗi API top 10 dịch vụ theo gi\xe1 buổi:"," ",n]}),(0,a.jsx)(d.u,{width:"100%",height:o?220:320,children:(0,a.jsxs)(v.r,{children:[(0,a.jsx)(y.F,{data:s,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:o?80:120,label:c,children:s.map(e=>(0,a.jsx)(j.f,{fill:e.color},e.name))}),(0,a.jsx)(x.m,{content:(0,a.jsx)(w,{label:"Top 10 dịch vụ theo gi\xe1 buổi"})})]})}),(0,a.jsx)("div",{className:"overflow-hidden",children:(0,a.jsx)("ul",{className:"flex flex-wrap  gap-2 mt-2 text-xs",children:s.map(e=>(0,a.jsxs)("li",{className:"flex items-start gap-1",children:[(0,a.jsx)("span",{className:"inline-block w-3 h-3 rounded-full flex-shrink-0 mt-0.5",style:{background:e.color}}),(0,a.jsx)("span",{className:"break-words",children:e.name})]},e.name))})})]})]})}var S=s(76180),k=s.n(S);let C=({active:e,payload:t,label:s})=>{if(e&&t&&t.length){let e=t[0];return(0,a.jsxs)("div",{className:"bg-white p-3 border border-gray-200 rounded-lg shadow-lg",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.name||e.payload.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[s?.includes("gi\xe1 buổi")?"Doanh thu: ":"Số lượng: ",(0,a.jsx)("span",{className:"font-semibold",children:s?.includes("gi\xe1 buổi")?`${(e.value/1e6).toFixed(1)}M VNĐ`:e.value.toLocaleString()})]})]})}return null};function _({bottom3ServicesUsageData:e,bottom3ServicesUsageLoading:t,bottom3ServicesUsageError:s,bottom3ServicesRevenueLoading:r,bottom3ServicesRevenueError:l,bottom3Data:i,bottom3RevenueData:n,filteredPieData:o,isMobile:c}){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k(),{id:"2f0483ac8cc1fbf0",dynamic:[c?"8px":"12px"],children:`.recharts-pie-label-text.__jsx-style-dynamic-selector{font-size:${c?"8px":"12px"}!important}`}),(0,a.jsxs)("div",{className:k().dynamic([["2f0483ac8cc1fbf0",[c?"8px":"12px"]]])+" flex flex-col lg:flex-row gap-2 justify-center",children:[(0,a.jsxs)("div",{className:k().dynamic([["2f0483ac8cc1fbf0",[c?"8px":"12px"]]])+" w-full lg:w-1/2 bg-white rounded-xl shadow-lg mt-5 p-4",children:[(0,a.jsx)("div",{className:k().dynamic([["2f0483ac8cc1fbf0",[c?"8px":"12px"]]])+" text-lg lg:text-xl font-medium text-gray-700 text-center mb-4",children:"Bottom 3 dịch vụ theo số lượng"}),t&&(0,a.jsx)("div",{className:k().dynamic([["2f0483ac8cc1fbf0",[c?"8px":"12px"]]])+" text-blue-600 text-sm text-center mb-4",children:"\uD83D\uDD04 Đang tải dữ liệu bottom 3 dịch vụ..."}),s&&(0,a.jsxs)("div",{className:k().dynamic([["2f0483ac8cc1fbf0",[c?"8px":"12px"]]])+" text-red-600 text-sm text-center mb-4",children:["❌ Lỗi API bottom 3 dịch vụ: ",s]}),(0,a.jsx)(d.u,{width:"100%",height:c?250:350,children:(0,a.jsxs)(v.r,{children:[(0,a.jsx)(y.F,{data:(()=>{if(e){let t=["#bdbdbd","#9e9e9e","#e0e0e0"];return e.map((e,s)=>({name:e.serviceName,value:e.count,color:t[s%t.length]}))}let t=new Map;o.forEach(e=>{let s=e.serviceName||e.type;t.set(s,(t.get(s)||0)+1)});let s=Array.from(t.entries()).sort((e,t)=>e[1]-t[1]).slice(0,3),a=["#bdbdbd","#9e9e9e","#e0e0e0"];return s.map(([e,t],s)=>({name:e,value:t,color:a[s%a.length]}))})(),dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:c?45:90,label:({percent:e})=>e&&e>.15?`${(100*e).toFixed(1)}%`:"",labelLine:!1,isAnimationActive:!1,children:(()=>{if(e){let t=["#bdbdbd","#9e9e9e","#e0e0e0"];return e.map((e,s)=>(0,a.jsx)(j.f,{fill:t[s%t.length]},e.serviceName))}let t=new Map;o.forEach(e=>{let s=e.serviceName||e.type;t.set(s,(t.get(s)||0)+1)});let s=Array.from(t.entries()).sort((e,t)=>e[1]-t[1]).slice(0,3),r=["#bdbdbd","#9e9e9e","#e0e0e0"];return s.map(([e],t)=>(0,a.jsx)(j.f,{fill:r[t%r.length]},e))})()}),(0,a.jsx)(x.m,{content:(0,a.jsx)(C,{label:"Bottom 3 dịch vụ theo số lượng"})})]})}),(0,a.jsx)("div",{className:k().dynamic([["2f0483ac8cc1fbf0",[c?"8px":"12px"]]])+" overflow-hidden",children:(0,a.jsx)("ul",{className:k().dynamic([["2f0483ac8cc1fbf0",[c?"8px":"12px"]]])+" flex flex-wrap gap-2 mt-2 text-xs",children:i.map(e=>(0,a.jsxs)("li",{className:k().dynamic([["2f0483ac8cc1fbf0",[c?"8px":"12px"]]])+" flex items-start gap-1",children:[(0,a.jsx)("span",{style:{background:e.color},className:k().dynamic([["2f0483ac8cc1fbf0",[c?"8px":"12px"]]])+" inline-block w-3 h-3 rounded-full flex-shrink-0 mt-0.5"}),(0,a.jsx)("span",{className:k().dynamic([["2f0483ac8cc1fbf0",[c?"8px":"12px"]]])+" break-words",children:e.name})]},e.name))})})]}),(0,a.jsxs)("div",{className:k().dynamic([["2f0483ac8cc1fbf0",[c?"8px":"12px"]]])+" w-full lg:w-1/2 bg-white rounded-xl shadow-lg mt-5 p-4",children:[(0,a.jsx)("div",{className:k().dynamic([["2f0483ac8cc1fbf0",[c?"8px":"12px"]]])+" text-lg lg:text-xl font-medium text-gray-700 text-center mb-4",children:"Bottom 3 dịch vụ theo gi\xe1 buổi"}),r&&(0,a.jsx)("div",{className:k().dynamic([["2f0483ac8cc1fbf0",[c?"8px":"12px"]]])+" text-blue-600 text-sm text-center mb-4",children:"\uD83D\uDD04 Đang tải dữ liệu bottom 3 dịch vụ theo gi\xe1 buổi..."}),l&&(0,a.jsxs)("div",{className:k().dynamic([["2f0483ac8cc1fbf0",[c?"8px":"12px"]]])+" text-red-600 text-sm text-center mb-4",children:["❌ Lỗi API bottom 3 dịch vụ theo gi\xe1 buổi:"," ",l]}),(0,a.jsx)(d.u,{width:"100%",height:c?250:350,children:(0,a.jsxs)(v.r,{children:[(0,a.jsx)(y.F,{data:n,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:c?45:90,label:({percent:e})=>e&&e>.15?`${(100*e).toFixed(1)}%`:"",labelLine:!1,isAnimationActive:!1,children:n.map(e=>(0,a.jsx)(j.f,{fill:e.color},e.name))}),(0,a.jsx)(x.m,{content:(0,a.jsx)(C,{label:"Bottom 3 dịch vụ theo gi\xe1 buổi"})})]})}),(0,a.jsx)("ul",{className:k().dynamic([["2f0483ac8cc1fbf0",[c?"8px":"12px"]]])+" flex flex-wrap  gap-3 mt-2 text-xs",children:i.map(e=>(0,a.jsxs)("li",{className:k().dynamic([["2f0483ac8cc1fbf0",[c?"8px":"12px"]]])+"  flex gap-1",children:[(0,a.jsx)("span",{style:{background:e.color},className:k().dynamic([["2f0483ac8cc1fbf0",[c?"8px":"12px"]]])+" inline-block w-3 h-3 rounded-full"}),e.name]},e.name))})]})]})]})}function T({title:e,value:t,delta:s,className:r,valueColor:l}){let i=null!==s&&s>0,n=null!==s&&s<0;return(0,a.jsxs)("div",{className:`bg-white rounded-xl shadow p-6 flex flex-col items-center min-w-[220px] border-4 transition-all duration-300 hover:scale-105 hover:shadow-lg ${r??"border-gray-200"}`,children:[(0,a.jsx)("div",{className:"text-sm text-gray-700 mb-1 text-center",children:e}),(0,a.jsx)("div",{className:`text-4xl font-bold mb-1 text-center ${l??"text-black"}`,children:t.toLocaleString()}),(0,a.jsxs)("div",{className:`text-lg font-semibold flex items-center gap-1 ${i?"text-green-600":n?"text-red-500":"text-gray-500"}`,children:[i&&(0,a.jsx)("span",{children:"↑"}),n&&(0,a.jsx)("span",{children:"↓"}),null===s?"N/A":Math.abs(s).toLocaleString()]})]})}function D({serviceSummary:e,serviceSummaryLoading:t,serviceSummaryError:s}){let[r,i]=l().useState(0),n=l().useRef(null),o=l().useCallback(()=>{if(n.current){let e=n.current,t=e.scrollLeft,s=e.clientWidth,a=e.scrollWidth-s;t<=0?i(0):t>=a?i(2):i(Math.round(t/a*2))}},[]),d=e=>{if(n.current){let t=n.current,s=t.clientWidth,a=t.scrollWidth-s;t.scrollTo({left:0===e?0:2===e?a:a/2,behavior:"smooth"}),i(e)}},c=l().useMemo(()=>e?{comboThisWeek:e.totalCombo,retailThisWeek:e.totalLe,ctThisWeek:e.totalCT,giftThisWeek:e.totalGift,totalServiceThisWeek:e.totalAll,pendingThisWeek:e.totalPending||0,deltaCombo:e.totalCombo-e.prevCombo,deltaRetail:e.totalLe-e.prevLe,deltaCT:e.totalCT-e.prevCT,deltaGift:e.totalGift-e.prevGift,deltaTotalService:e.totalAll-e.prevAll,deltaPending:(e.totalPending||0)-(e.prevPending||0)}:{comboThisWeek:1629,retailThisWeek:726,ctThisWeek:0,giftThisWeek:0,totalServiceThisWeek:2355,pendingThisWeek:180,deltaCombo:100,deltaRetail:50,deltaCT:0,deltaGift:0,deltaTotalService:150,deltaPending:25},[e]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"w-full mb-2",children:[t&&(0,a.jsx)("div",{className:"text-blue-600 text-sm",children:"\uD83D\uDD04 Đang tải dữ liệu..."}),s&&(0,a.jsxs)("div",{className:"text-red-600 text-sm",children:["❌ Lỗi API: ",s]})]}),(0,a.jsx)("div",{className:"md:hidden w-full mb-5 mt-5",children:(0,a.jsxs)("div",{style:{scrollbarWidth:"thin",scrollbarColor:"#fbbf24 #f3f4f6"},className:"jsx-426aa263b6fa0a9f max-h-96 overflow-y-auto",children:[(0,a.jsx)(k(),{id:"426aa263b6fa0a9f",children:"div.jsx-426aa263b6fa0a9f::-webkit-scrollbar{width:6px}div.jsx-426aa263b6fa0a9f::-webkit-scrollbar-track{background:#f3f4f6;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}div.jsx-426aa263b6fa0a9f::-webkit-scrollbar-thumb{background:#fbbf24;-webkit-border-radius:3px;-moz-border-radius:3px;border-radius:3px}div.jsx-426aa263b6fa0a9f::-webkit-scrollbar-thumb:hover{background:#f59e0b}"}),(0,a.jsxs)("div",{className:"jsx-426aa263b6fa0a9f flex flex-col gap-4",children:[(0,a.jsx)(T,{title:"Tổng Combo",value:c.comboThisWeek,delta:c.deltaCombo,valueColor:"text-black",className:"bg-[#33a7b5] w-full"}),(0,a.jsx)(T,{title:"Tổng dịch vụ lẻ",value:c.retailThisWeek,delta:c.deltaRetail,valueColor:"text-black",className:"bg-[#9b51e0] w-full"}),(0,a.jsx)(T,{title:"Tổng dịch vụ CT",value:c.ctThisWeek,delta:c.deltaCT,valueColor:"text-black",className:"bg-[#ee2c82] w-full"}),(0,a.jsx)(T,{title:"Tổng qu\xe0 tặng",value:c.giftThisWeek,delta:c.deltaGift,valueColor:"text-black",className:"bg-[#f16a3f] w-full"}),(0,a.jsx)(T,{title:"Tổng dịch vụ thực hiện",value:c.totalServiceThisWeek,delta:c.deltaTotalService,valueColor:"text-black",className:"bg-[#7adcb4] w-full"}),(0,a.jsx)(T,{title:"Tổng dịch vụ chưa thực hiện",value:c.pendingThisWeek,delta:c.deltaPending,valueColor:"text-black",className:"bg-[#ff6b6b] w-full"})]})]})}),(0,a.jsxs)("div",{className:"hidden md:flex flex-col items-center w-full",children:[(0,a.jsxs)("div",{ref:n,onScroll:o,style:{scrollbarWidth:"none",scrollbarColor:"#fbbf24 #f3f4f6"},className:"jsx-fcbb50f812f88ea2 flex overflow-x-auto scrollbar-hide gap-4 mb-5 mt-5 w-[80%]",children:[(0,a.jsx)(k(),{id:"fcbb50f812f88ea2",children:"div.jsx-fcbb50f812f88ea2::-webkit-scrollbar{height:8px}div.jsx-fcbb50f812f88ea2::-webkit-scrollbar-track{background:#f3f4f6;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}div.jsx-fcbb50f812f88ea2::-webkit-scrollbar-thumb{background:#fbbf24;-webkit-border-radius:4px;-moz-border-radius:4px;border-radius:4px}div.jsx-fcbb50f812f88ea2::-webkit-scrollbar-thumb:hover{background:#f59e0b}"}),(0,a.jsx)(T,{title:"Tổng Combo",value:c.comboThisWeek,delta:c.deltaCombo,valueColor:"text-black",className:"bg-[#33a7b5] flex-shrink-0 w-64"}),(0,a.jsx)(T,{title:"Tổng dịch vụ lẻ",value:c.retailThisWeek,delta:c.deltaRetail,valueColor:"text-black",className:"bg-[#9b51e0] flex-shrink-0 w-64"}),(0,a.jsx)(T,{title:"Tổng dịch vụ CT",value:c.ctThisWeek,delta:c.deltaCT,valueColor:"text-black",className:"bg-[#ee2c82] flex-shrink-0 w-64"}),(0,a.jsx)(T,{title:"Tổng qu\xe0 tặng",value:c.giftThisWeek,delta:c.deltaGift,valueColor:"text-black",className:"bg-[#f16a3f] flex-shrink-0 w-64"}),(0,a.jsx)(T,{title:"Tổng dịch vụ thực hiện",value:c.totalServiceThisWeek,delta:c.deltaTotalService,valueColor:"text-black",className:"bg-[#7adcb4] flex-shrink-0 w-64"}),(0,a.jsx)(T,{title:"Tổng dịch vụ chưa thực hiện",value:c.pendingThisWeek,delta:c.deltaPending,valueColor:"text-black",className:"bg-[#ff6b6b] flex-shrink-0 w-64"})]}),(0,a.jsx)("div",{className:"flex justify-center gap-2 mt-4",children:[0,1,2].map(e=>(0,a.jsx)("button",{onClick:()=>d(e),className:`w-3 h-3 rounded-full transition-all duration-300 ${r===e?"bg-orange-300 scale-25":"bg-gray-300 hover:bg-gray-400"}`,title:`Card ${e+1}`},e))})]})]})}function F({shopLoading:e,shopError:t,isMobile:s,storeServiceChartData:r}){return(0,a.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-lg mt-5 p-4",children:[(0,a.jsx)("div",{className:"text-xl font-medium text-gray-700 text-center mb-4",children:"Tổng dịch vụ thực hiện theo cửa h\xe0ng"}),e&&(0,a.jsx)("div",{className:"text-blue-600 text-sm text-center mb-4",children:"\uD83D\uDD04 Đang tải dữ liệu cửa h\xe0ng..."}),t&&(0,a.jsxs)("div",{className:"text-red-600 text-sm text-center mb-4",children:["❌ Lỗi API cửa h\xe0ng: ",t]}),(0,a.jsx)("div",{className:"w-full overflow-x-auto",children:(0,a.jsx)("div",{className:"min-w-[600px] md:min-w-0 ",children:(0,a.jsx)(d.u,{width:s?500:"100%",height:800,children:(0,a.jsxs)(c.E,{data:r,layout:"vertical",margin:{top:20,right:30,left:s?60:120,bottom:20},children:[(0,a.jsx)(u.d,{strokeDasharray:"3 3"}),(0,a.jsx)(h.W,{type:"number",tickFormatter:e=>e>=1e3?`${e/1e3}k`:e.toString(),tick:{fontSize:s?10:14}}),(0,a.jsx)(m.h,{dataKey:"store",type:"category",tick:{fontSize:s?10:12},width:s?150:200,tickLine:!1,axisLine:!1,interval:0}),(0,a.jsx)(x.m,{}),(0,a.jsx)(p.s,{wrapperStyle:{fontSize:s?10:14}}),(0,a.jsx)(b.y,{dataKey:"combo",name:"Combo",stackId:"a",fill:"#795548"}),(0,a.jsx)(b.y,{dataKey:"service",name:"Dịch vụ",stackId:"a",fill:"#c5e1a5"}),(0,a.jsx)(b.y,{dataKey:"other",name:"Kh\xe1c",stackId:"a",fill:"#f16a3f",children:(0,a.jsx)(f.Z,{dataKey:"total",position:"right",formatter:e=>"number"==typeof e?e>=1e3?`${(e/1e3).toFixed(1)}k`:e.toString():"",fill:"#333",fontSize:s?10:12})})]})})})})]})}function R({regionLoading:e,regionError:t,isMobile:s,regionChartData:r}){return(0,a.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-lg mt-5 p-4",children:[(0,a.jsx)("div",{className:"text-xl font-medium text-gray-700 text-center mb-4",children:"Tổng dịch vụ thực hiện theo khu vực"}),e&&(0,a.jsx)("div",{className:"text-blue-600 text-sm text-center mb-4",children:"\uD83D\uDD04 Đang tải dữ liệu khu vực..."}),t&&(0,a.jsxs)("div",{className:"text-red-600 text-sm text-center mb-4",children:["❌ Lỗi API khu vực: ",t]}),(0,a.jsx)("div",{className:"w-full overflow-x-auto",children:(0,a.jsx)("div",{className:"min-w-[600px] md:min-w-0 ",children:(0,a.jsx)(d.u,{width:s?500:"100%",height:s?400:500,children:(0,a.jsxs)(c.E,{data:r,layout:"vertical",margin:{top:20,right:30,left:s?40:100,bottom:20},children:[(0,a.jsx)(u.d,{strokeDasharray:"3 3"}),(0,a.jsx)(h.W,{type:"number",tickFormatter:e=>e>=1e3?`${e/1e3}k`:e.toString(),tick:{fontSize:s?10:14}}),(0,a.jsx)(m.h,{dataKey:"region",type:"category",tick:{fontSize:s?10:12},width:s?120:150}),(0,a.jsx)(x.m,{}),(0,a.jsx)(p.s,{wrapperStyle:{fontSize:s?10:14}}),(0,a.jsx)(b.y,{dataKey:"combo",name:"Combo",stackId:"a",fill:"#795548"}),(0,a.jsx)(b.y,{dataKey:"service",name:"Dịch vụ",stackId:"a",fill:"#c5e1a5"}),(0,a.jsx)(b.y,{dataKey:"other",name:"Kh\xe1c",stackId:"a",fill:"#f16a3f"})]})})})})]})}function L({serviceTableData:e,serviceTableLoading:t,serviceTableError:s,serviceData:r}){return(0,a.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-lg mt-5 p-4",children:[(0,a.jsx)("div",{className:"text-lg lg:text-xl font-medium text-gray-700 text-center mb-4",children:"Bảng dịch vụ"}),t&&(0,a.jsx)("div",{className:"text-blue-600 text-sm text-center mb-4",children:"\uD83D\uDD04 Đang tải dữ liệu bảng dịch vụ..."}),s&&(0,a.jsxs)("div",{className:"text-red-600 text-sm text-center mb-4",children:["❌ Lỗi API bảng dịch vụ: ",s]}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsx)("div",{style:{maxHeight:400,overflowY:"auto",scrollbarWidth:"none",msOverflowStyle:"none",width:"100%"},children:(0,a.jsxs)("table",{className:"min-w-[700px] lg:min-w-full text-xs sm:text-sm border table-fixed",style:{tableLayout:"fixed",width:"100%"},children:[(0,a.jsx)("thead",{className:"sticky top-0 z-10",children:(0,a.jsxs)("tr",{className:"bg-yellow-200 text-gray-900",children:[(0,a.jsx)("th",{className:"w-12 px-2 py-2 border text-center font-bold",children:"STT"}),(0,a.jsx)("th",{className:"w-64 px-2 py-2 border text-left font-bold",children:"Dịch vụ"}),(0,a.jsx)("th",{className:"w-24 px-2 py-2 border text-center font-bold",children:"Loại"}),(0,a.jsx)("th",{className:"w-20 px-2 py-2 border text-right font-bold bg-orange-100",children:"Số lượng"}),(0,a.jsx)("th",{className:"w-20 px-2 py-2 border text-right font-bold",children:"Δ"}),(0,a.jsx)("th",{className:"w-24 px-2 py-2 border text-right font-bold",children:"% Số lượng"}),(0,a.jsx)("th",{className:"w-32 px-2 py-2 border text-right font-bold bg-blue-100",children:"Tổng gi\xe1"}),(0,a.jsx)("th",{className:"w-20 px-2 py-2 border text-right font-bold",children:"% Δ"}),(0,a.jsx)("th",{className:"w-24 px-2 py-2 border text-right font-bold",children:"% Tổng gi\xe1"})]})}),(0,a.jsx)("tbody",{children:e?e.map((e,t)=>(0,a.jsxs)("tr",{className:t%2==0?"bg-white":"bg-gray-50",children:[(0,a.jsx)("td",{className:"w-12 px-2 py-1 border text-center",children:t+1}),(0,a.jsx)("td",{className:"w-64 px-2 py-1 border text-left font-medium",title:e.serviceName,children:(0,a.jsxs)("div",{className:"truncate",children:[(0,a.jsx)("span",{className:"hidden lg:inline",children:e.serviceName}),(0,a.jsx)("span",{className:"lg:hidden text-xs",children:e.serviceName.length>15?e.serviceName.substring(0,15)+"...":e.serviceName})]})}),(0,a.jsx)("td",{className:"w-24 px-2 py-1 border text-center",children:e.type}),(0,a.jsx)("td",{className:"w-20 px-2 py-1 border text-right font-bold bg-orange-100 text-orange-700",children:e.usageCount?.toLocaleString?.()??e.usageCount}),(0,a.jsxs)("td",{className:`w-20 px-2 py-1 border text-right font-semibold ${e.usageDeltaCount>0?"text-green-600":e.usageDeltaCount<0?"text-red-500":""}`,children:[e.usageDeltaCount?.toLocaleString?.()??e.usageDeltaCount," ",e.usageDeltaCount>0?"↑":e.usageDeltaCount<0?"↓":""]}),(0,a.jsxs)("td",{className:"w-24 px-2 py-1 border text-right",children:[e.usagePercent?.toFixed(1),"%"]}),(0,a.jsx)("td",{className:"w-32 px-2 py-1 border text-right font-bold bg-blue-100 text-blue-700",children:e.totalRevenue?.toLocaleString?.()??e.totalRevenue}),(0,a.jsxs)("td",{className:`w-20 px-2 py-1 border text-right font-semibold ${e.revenueDeltaPercent>100?"text-green-600":e.revenueDeltaPercent<100?"text-red-500":""}`,children:[e.revenueDeltaPercent?.toFixed(1),"%"," ",e.revenueDeltaPercent>100?"↑":e.revenueDeltaPercent<100?"↓":""]}),(0,a.jsxs)("td",{className:"w-24 px-2 py-1 border text-right",children:[e.revenuePercent?.toFixed(1),"%"]})]},`${e.serviceName}-${t}`)):r.map((e,t)=>{let s=Math.floor(1e3*Math.random())*(Math.random()>.2?1:-1),r=s>0?(10*Math.random()+100).toFixed(1):(10*Math.random()+90).toFixed(1);return(0,a.jsxs)("tr",{className:t%2==0?"bg-white":"bg-gray-50",children:[(0,a.jsx)("td",{className:"w-12 px-2 py-1 border text-center",children:t+1}),(0,a.jsx)("td",{className:"w-64 px-2 py-1 border text-left font-medium",title:e.tenDichVu,children:(0,a.jsxs)("div",{className:"truncate",children:[(0,a.jsx)("span",{className:"hidden lg:inline",children:e.tenDichVu}),(0,a.jsx)("span",{className:"lg:hidden text-xs",children:e.tenDichVu.length>15?e.tenDichVu.substring(0,15)+"...":e.tenDichVu})]})}),(0,a.jsx)("td",{className:"w-24 px-2 py-1 border text-center",children:e.loaiDichVu}),(0,a.jsx)("td",{className:"w-20 px-2 py-1 border text-right font-bold bg-orange-100 text-orange-700",children:e.soLuong?.toLocaleString?.()??e.soLuong}),(0,a.jsxs)("td",{className:`w-20 px-2 py-1 border text-right font-semibold ${s>0?"text-green-600":s<0?"text-red-500":""}`,children:[s?.toLocaleString?.()??s," ",s>0?"↑":s<0?"↓":""]}),(0,a.jsxs)("td",{className:"w-24 px-2 py-1 border text-right",children:[e.percentSoLuong,"%"]}),(0,a.jsx)("td",{className:"w-32 px-2 py-1 border text-right font-bold bg-blue-100 text-blue-700",children:e.tongGia?.toLocaleString?.()??e.tongGia}),(0,a.jsxs)("td",{className:`w-20 px-2 py-1 border text-right font-semibold ${s>0?"text-green-600":s<0?"text-red-500":""}`,children:[r,"%"," ",s>0?"↑":s<0?"↓":""]}),(0,a.jsxs)("td",{className:"w-24 px-2 py-1 border text-right",children:[e.percentTongGia,"%"]})]},`${e.tenDichVu}-${t}`)})}),(0,a.jsx)("tfoot",{children:(0,a.jsxs)("tr",{className:"bg-gray-100 font-bold border-t-2 border-gray-400 sticky bottom-0 z-10",children:[(0,a.jsx)("td",{className:"w-12 px-2 py-1 border text-center"}),(0,a.jsxs)("td",{className:"w-64 px-2 py-1 border text-left",children:[(0,a.jsx)("span",{className:"hidden lg:inline",children:"Tổng cộng"}),(0,a.jsx)("span",{className:"lg:hidden text-xs",children:"Tổng"})]}),(0,a.jsx)("td",{className:"w-24 px-2 py-1 border text-center"}),(0,a.jsx)("td",{className:"w-20 px-2 py-1 border text-right bg-orange-100 text-orange-700",children:e?e.reduce((e,t)=>e+(t.usageCount||0),0).toLocaleString():r.reduce((e,t)=>e+(t.soLuong||0),0).toLocaleString()}),(0,a.jsx)("td",{className:"w-20 px-2 py-1 border text-right",children:e?(e.reduce((e,t)=>e+(t.usageDeltaCount||0),0)/e.length).toFixed(0):"—"}),(0,a.jsx)("td",{className:"w-24 px-2 py-1 border text-right",children:"100%"}),(0,a.jsx)("td",{className:"w-32 px-2 py-1 border text-right bg-blue-100 text-blue-700",children:e?e.reduce((e,t)=>e+(t.totalRevenue||0),0).toLocaleString():r.reduce((e,t)=>e+(t.tongGia||0),0).toLocaleString()}),(0,a.jsx)("td",{className:"w-20 px-2 py-1 border text-right",children:e?(e.reduce((e,t)=>e+(t.revenueDeltaPercent||0),0)/e.length).toFixed(1):"—"}),(0,a.jsx)("td",{className:"w-24 px-2 py-1 border text-right",children:"100%"})]})})]})})})]})}var A=s(13193),$=s(70212),E=s(34276);let z="https://c68783755745.ngrok-free.app";function P(e,t,s){let[a,l]=(0,r.useState)(null),[i,n]=(0,r.useState)(!0),[o,d]=(0,r.useState)(null);return{data:a,loading:i,error:o}}function M(){let{notification:e,showSuccess:t,showError:s,hideNotification:n}=(0,A.h)();(0,r.useRef)(!1),(0,r.useRef)(!1);let{reportPageError:d,reportDataLoadSuccess:c,reportFilterChange:u,reportResetFilters:h,reportPagePerformance:m}=(0,E.n)("services"),[x,p]=(0,$.V)("services-startDate",(0,i.Ec)((0,i.Xj)()).subtract({days:7})),[b,f]=(0,$.V)("services-endDate",(0,i.Ec)((0,i.Xj)())),[v,y]=(0,$.V)("services-selectedBranches",[]),[j,w]=(0,$.V)("services-selectedRegions",[]),[S,k]=(0,$.V)("services-selectedServiceTypes",["Kh\xe1ch h\xe0ng Th\xe0nh vi\xean","KH trải nghiệm","Added on","Qu\xe0 tặng"]),[C,T]=(0,$.V)("services-selectedGenders",["Nam","Nữ","#N/A"]),M=x?`${x.year}-${String(x.month).padStart(2,"0")}-${String(x.day).padStart(2,"0")}T00:00:00`:"",K=b?`${b.year}-${String(b.month).padStart(2,"0")}-${String(b.day).padStart(2,"0")}T23:59:59`:"",{data:W}=P(`${z}/api/service-record/service-type-breakdown`,M,K),{data:G,loading:I,error:B}=P(`${z}/api/service-record/service-summary`,M,K),{data:V,loading:O,error:U}=P(`${z}/api/service-record/region`,M,K),{data:q,loading:X,error:Z}=P(`${z}/api/service-record/shop`,M,K),{data:H,loading:Q,error:Y}=P(`${z}/api/service-record/top10-services-revenue`,M,K),{data:J,loading:ee,error:et}=P(`${z}/api/service-record/top10-services-usage`,M,K),{data:es,loading:ea,error:er}=P(`${z}/api/service-record/bottom3-services-usage`,M,K),{data:el,loading:ei,error:en}=P(`${z}/api/service-record/bottom3-services-revenue`,M,K),{data:eo,loading:ed,error:ec}=P(`${z}/api/service-record/top-table`,M,K),eu=[B,U,Z,Y,et,er,en,ec];[I,O,X,Q,ee,ea,ei,ed].some(e=>e),eu.some(e=>e);let eh=640>function(){let[e,t]=(0,r.useState)(1024);return e}(),em=[{key:"Kh\xe1ch h\xe0ng Th\xe0nh vi\xean",label:"Combo"},{key:"KH trải nghiệm",label:"Dịch vụ"},{key:"Added on",label:"Added on"},{key:"Qu\xe0 tặng",label:"Gifts"},{key:"Fox card",label:"Fox card"}],ex=["Nam","Nữ","#N/A"],[ep]=(0,r.useState)(""),eb=l().useMemo(()=>{let e=[],t=x;for(;0>=t.compare(b);)e.push(t),t=t.add({days:1});return e},[x,b]),ef=l().useMemo(()=>{if(!W)return eb.map(e=>({date:`${e.day} thg ${e.month}`,combo:0,service:0,addedon:0,foxcard:0}));let e=new Map;return eb.forEach(t=>{let s=`${t.year}-${String(t.month).padStart(2,"0")}-${String(t.day).padStart(2,"0")}`;e.set(s,{combo:0,service:0,addedon:0,foxcard:0})}),W.forEach(t=>{let s=t.date,a=e.get(s);if(a)switch(t.type){case"Combo":a.combo=t.count;break;case"Dịch vụ":a.service=t.count;break;case"Kh\xe1c":a.addedon=t.count}}),eb.map(t=>{let s=`${t.year}-${String(t.month).padStart(2,"0")}-${String(t.day).padStart(2,"0")}`,a=e.get(s)||{combo:0,service:0,addedon:0,foxcard:0},r=Math.round(.218*(a.combo+a.service+a.addedon));return{date:`${t.day} thg ${t.month}`,combo:a.combo,service:a.service,addedon:a.addedon,foxcard:r}})},[W,eb]),eg=l().useMemo(()=>{if(!V)return[];let e=new Map;return V.forEach(t=>{e.has(t.region)||e.set(t.region,{combo:0,service:0,other:0});let s=e.get(t.region);switch(t.type){case"Combo":s.combo=t.total;break;case"Dịch vụ":s.service=t.total;break;case"Kh\xe1c":s.other=t.total}}),Array.from(e.entries()).map(([e,t])=>({region:e,combo:t.combo,service:t.service,other:t.other,total:t.combo+t.service+t.other})).sort((e,t)=>t.total-e.total)},[V]),ev=l().useMemo(()=>{if(!W)return[];let e=new Map;W.forEach(t=>{let s=t.type;e.has(s)||e.set(s,{count:0,type:t.type}),e.get(s).count+=t.count});let t=Array.from(e.values()).reduce((e,t)=>e+t.count,0);return Array.from(e.entries()).map(([e,s])=>({tenDichVu:e,loaiDichVu:e,soLuong:s.count,tongGia:1e6*s.count,percentSoLuong:t>0?(s.count/t*100).toFixed(1):"0.0",percentTongGia:t>0?(s.count/t*100).toFixed(1):"0.0"}))},[W]),ey=q?Object.entries(q.reduce((e,t)=>(e[t.shopName]||(e[t.shopName]={}),e[t.shopName][t.serviceType]=t.total,e),{})).map(([e,t])=>{let s=t.Combo||0,a=t["Dịch vụ"]||0,r=t["Kh\xe1c"]||0;return{store:e,combo:s,service:a,other:r,total:s+a+r}}).sort((e,t)=>t.total-e.total):[],ej=l().useMemo(()=>{if(G){let e=[{key:"combo",label:"Combo",value:G.totalCombo,color:"#795548"},{key:"service",label:"Dịch vụ",value:G.totalLe,color:"#c5e1a5"},{key:"addedon",label:"Added on",value:G.totalCT,color:"#f16a3f"},{key:"gifts",label:"Gifts",value:G.totalGift,color:"#8fd1fc"}],t=Math.round(.218*e.reduce((e,t)=>e+t.value,0));return[...e,{key:"foxcard",label:"Fox card",value:t,color:"#b26e7a"}]}let e=[{key:"combo",label:"Combo",value:0,color:"#795548"},{key:"service",label:"Dịch vụ",value:0,color:"#c5e1a5"},{key:"addedon",label:"Added on",value:0,color:"#f16a3f"},{key:"gifts",label:"Gifts",value:0,color:"#8fd1fc"}],t=Math.round(.218*e.reduce((e,t)=>e+t.value,0));return[...e,{key:"foxcard",label:"Fox card",value:t,color:"#b26e7a"}]},[G]),ew=l().useMemo(()=>J?J.map((e,t)=>({name:e.serviceName,value:e.count,color:`hsl(0,0%,${40+5*t}%)`})):[],[J]),eN=l().useMemo(()=>H?H.map((e,t)=>({name:e.serviceName,value:e.servicePrice,color:`hsl(30, 100%, ${45+5*t}%)`})):[],[H]),eS=l().useMemo(()=>{if(es){let e=["#bdbdbd","#9e9e9e","#e0e0e0"];return es.map((t,s)=>({name:t.serviceName,value:t.count,color:e[s%e.length]}))}return[]},[es]),ek=l().useMemo(()=>{if(el){let e=["#bdbdbd","#9e9e9e","#e0e0e0"];return el.map((t,s)=>({name:t.serviceName,value:t.servicePrice,color:e[s%e.length]}))}return[]},[el]),eC=l().useMemo(()=>{if(!V)return[];let e=new Map;return V.forEach(t=>{e.set(t.region,(e.get(t.region)||0)+1)}),Array.from(e.entries()).map(([e,t])=>({name:e,total:t}))},[V]),e_=l().useMemo(()=>eC.filter(e=>e.name.toLowerCase().includes(ep.toLowerCase())),[eC,ep]),eT=em.filter(e=>e.label.toLowerCase().includes("")),eD=ex.filter(e=>e.toLowerCase().includes(""));return(0,a.jsxs)("div",{className:"p-2 sm:p-4 md:p-6 max-w-full",children:[(0,a.jsx)(A.E,{type:e.type,message:e.message,isVisible:e.isVisible,onClose:n}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"p-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Services Report"}),(0,a.jsx)("button",{onClick:()=>{(0,$.e)(["services-startDate","services-endDate","services-selectedBranches","services-selectedRegions","services-selectedServiceTypes","services-selectedGenders"]),p((0,i.Ec)((0,i.Xj)()).subtract({days:7})),f((0,i.Ec)((0,i.Xj)())),y([]),w([]),k(["Kh\xe1ch h\xe0ng Th\xe0nh vi\xean","KH trải nghiệm","Added on","Qu\xe0 tặng"]),T(["Nam","Nữ","#N/A"]),t("Đ\xe3 reset tất cả filter về mặc định!"),h()},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors text-sm",children:"Reset Filters"})]}),(0,a.jsx)(o,{startDate:x,endDate:b,setStartDate:p,setEndDate:f,today:i.Ec,getLocalTimeZone:i.Xj,selectedRegions:j,setSelectedRegions:w,selectedBranches:v,setSelectedBranches:y,selectedServiceTypes:S,setSelectedServiceTypes:k,selectedGenders:C,setSelectedGenders:T,regionOptions:eC,locationOptions:[],filteredRegionOptions:e_,ALL_SERVICE_TYPES:em,ALL_GENDERS:ex,filteredServiceTypes:eT,filteredGenders:eD,genderActualPrice:[],formatMoneyShort:e=>e.toLocaleString()})]}),(0,a.jsx)(g,{weeklyServiceChartData:ef,isMobile:eh}),(0,a.jsx)(N,{pieChartData:ej,pieTop10Data:ew,pieTop10AvgData:eN,top10ServicesLoading:Q,top10ServicesError:Y,top10ServicesUsageLoading:ee,top10ServicesUsageError:et,isMobile:eh,renderPieLabel:({percent:e,x:t,y:s,index:r})=>eh&&void 0!==e&&e<0||void 0!==e&&e<.05?null:(0,a.jsxs)("text",{x:t,y:s,fill:ew[r??0]?.color||"#333",fontSize:eh?10:14,fontWeight:"bold",textAnchor:"middle",dominantBaseline:"central",children:[(100*e).toFixed(1),"%"]})}),(0,a.jsx)(_,{bottom3ServicesUsageData:es,bottom3ServicesUsageLoading:ea,bottom3ServicesUsageError:er,bottom3ServicesRevenueLoading:ei,bottom3ServicesRevenueError:en,bottom3Data:eS,bottom3RevenueData:ek,filteredPieData:[],isMobile:eh}),(0,a.jsx)(D,{serviceSummary:G,serviceSummaryLoading:I,serviceSummaryError:B}),(0,a.jsx)(F,{shopLoading:X,shopError:Z,isMobile:eh,storeServiceChartData:ey}),(0,a.jsx)(R,{regionLoading:O,regionError:U,isMobile:eh,regionChartData:eg}),(0,a.jsx)(L,{serviceTableData:eo,serviceTableLoading:ed,serviceTableError:ec,serviceData:ev})]})]})}},56397:()=>{},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70212:(e,t,s)=>{"use strict";s.d(t,{V:()=>r,e:()=>l});var a=s(43210);function r(e,t){let[s,r]=(0,a.useState)(t),[l,i]=(0,a.useState)(!1);return[s,r,l]}function l(e){}s(18411)},75913:(e,t,s)=>{"use strict";s(56397);var a=s(43210),r=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(a),l="undefined"!=typeof process&&process.env&&!0,i=function(e){return"[object String]"===Object.prototype.toString.call(e)},n=function(){function e(e){var t=void 0===e?{}:e,s=t.name,a=void 0===s?"stylesheet":s,r=t.optimizeForSpeed,n=void 0===r?l:r;o(i(a),"`name` must be a string"),this._name=a,this._deletedRulePlaceholder="#"+a+"-deleted-rule____{}",o("boolean"==typeof n,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=n,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0,this._nonce=null}var t,s=e.prototype;return s.setOptimizeForSpeed=function(e){o("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),o(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},s.isOptimizeForSpeed=function(){return this._optimizeForSpeed},s.inject=function(){var e=this;o(!this._injected,"sheet already injected"),this._injected=!0,this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},s.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},s.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},s.insertRule=function(e,t){return o(i(e),"`insertRule` accepts only strings"),"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++},s.replaceRule=function(e,t){this._optimizeForSpeed;var s=this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(a){l||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}return e},s.deleteRule=function(e){this._serverSheet.deleteRule(e)},s.flush=function(){this._injected=!1,this._rulesCount=0,this._serverSheet.cssRules=[]},s.cssRules=function(){return this._serverSheet.cssRules},s.makeStyleTag=function(e,t,s){t&&o(i(t),"makeStyleTag accepts only strings as second parameter");var a=document.createElement("style");this._nonce&&a.setAttribute("nonce",this._nonce),a.type="text/css",a.setAttribute("data-"+e,""),t&&a.appendChild(document.createTextNode(t));var r=document.head||document.getElementsByTagName("head")[0];return s?r.insertBefore(a,s):r.appendChild(a),a},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}(e.prototype,t),e}();function o(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},c={};function u(e,t){if(!t)return"jsx-"+e;var s=String(t),a=e+s;return c[a]||(c[a]="jsx-"+d(e+"-"+s)),c[a]}function h(e,t){var s=e+(t=t.replace(/\/style/gi,"\\/style"));return c[s]||(c[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),c[s]}var m=function(){function e(e){var t=void 0===e?{}:e,s=t.styleSheet,a=void 0===s?null:s,r=t.optimizeForSpeed,l=void 0!==r&&r;this._sheet=a||new n({name:"styled-jsx",optimizeForSpeed:l}),this._sheet.inject(),a&&"boolean"==typeof l&&(this._sheet.setOptimizeForSpeed(l),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed());var s=this.getIdAndRules(e),a=s.styleId,r=s.rules;if(a in this._instancesCounts){this._instancesCounts[a]+=1;return}var l=r.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[a]=l,this._instancesCounts[a]=1},t.remove=function(e){var t=this,s=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(s in this._instancesCounts,"styleId: `"+s+"` not found"),this._instancesCounts[s]-=1,this._instancesCounts[s]<1){var a=this._fromServer&&this._fromServer[s];a?(a.parentNode.removeChild(a),delete this._fromServer[s]):(this._indices[s].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[s]),delete this._instancesCounts[s]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],s=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return s[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,s;return t=this.cssRules(),void 0===(s=e)&&(s={}),t.map(function(e){var t=e[0],a=e[1];return r.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:s.nonce?s.nonce:void 0,dangerouslySetInnerHTML:{__html:a}})})},t.getIdAndRules=function(e){var t=e.children,s=e.dynamic,a=e.id;if(s){var r=u(a,s);return{styleId:r,rules:Array.isArray(t)?t.map(function(e){return h(r,e)}):[h(r,t)]}}return{styleId:u(a),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),x=a.createContext(null);x.displayName="StyleSheetContext";r.default.useInsertionEffect||r.default.useLayoutEffect;var p=void 0;function b(e){var t=p||a.useContext(x);return t&&t.add(e),null}b.dynamic=function(e){return e.map(function(e){return u(e[0],e[1])}).join(" ")},t.style=b},76180:(e,t,s)=>{"use strict";e.exports=s(75913).style},79551:e=>{"use strict";e.exports=require("url")},96375:(e,t,s)=>{Promise.resolve().then(s.bind(s,31331))}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[4447,2383,3397,7203,4587,9761,3650,6888],()=>s(18873));module.exports=a})();