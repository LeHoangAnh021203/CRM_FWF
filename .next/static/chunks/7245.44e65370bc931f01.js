"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7245],{87245:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var o=a(95155),n=a(12115),r=a(83540),l=a(3401),d=a(94754),i=a(96025),h=a(52071),u=a(27086),f=a(64683),s=a(56690),c=a(36079);let p=e=>{let{storeTypeSalesByDay:t,formatAxisDate:a}=e,[p,m]=n.useState(!1),x=n.useMemo(()=>{let e=new Map;return t.forEach(t=>{let a=[t.Mall||0,t.Shophouse||0,t.NhaPho||0,t.DaDongCua||0,t.Khac||0];e.set(t.date,Math.max(...a))}),e},[t]),g=n.useMemo(()=>{let e={Mall:{date:"",value:0},Shophouse:{date:"",value:0},NhaPho:{date:"",value:0},DaDongCua:{date:"",value:0},Khac:{date:"",value:0}};return t.forEach(t=>{(t.Mall||0)>e.Mall.value&&(e.Mall={date:t.date,value:t.Mall||0}),(t.Shophouse||0)>e.Shophouse.value&&(e.Shophouse={date:t.date,value:t.Shophouse||0}),(t.NhaPho||0)>e.NhaPho.value&&(e.NhaPho={date:t.date,value:t.NhaPho||0}),(t.DaDongCua||0)>e.DaDongCua.value&&(e.DaDongCua={date:t.date,value:t.DaDongCua||0}),(t.Khac||0)>e.Khac.value&&(e.Khac={date:t.date,value:t.Khac||0})}),e},[t]);n.useEffect(()=>{let e=()=>{m(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let y=n.useMemo(()=>Math.max(...t.flatMap(e=>[e.Mall||0,e.Shophouse||0,e.NhaPho||0,e.DaDongCua||0,e.Khac||0])),[t]);return(0,o.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-lg mt-5 p-2 sm:p-4",children:[(0,o.jsx)("div",{className:"text-sm sm:text-base md:text-xl font-medium text-gray-700 text-center mb-4",children:"Tổng doanh số loại cửa h\xe0ng"}),(0,o.jsx)("div",{className:"w-full overflow-x-auto",children:(0,o.jsx)(r.u,{width:"100%",height:p?300:400,minWidth:280,children:(0,o.jsxs)(l.E,{data:t,margin:{top:p?30:50,right:p?10:30,left:p?10:20,bottom:p?20:5},children:[(0,o.jsx)(d.d,{strokeDasharray:"3 3"}),(0,o.jsx)(i.W,{dataKey:"date",tickFormatter:a,fontSize:p?10:12,angle:p?-45:0,textAnchor:p?"end":"middle",height:p?60:30,tick:e=>{let{x:t,y:n,payload:r}=e,l=r.value,d=(()=>{if(!l)return!1;let e=String(l).match(/^(\d{4})-(\d{2})-(\d{2})/);if(e){let[,t,a,o]=e,n=new Date(parseInt(t),parseInt(a)-1,parseInt(o)).getDay();return 0===n||6===n}return!1})();return(0,o.jsx)("g",{transform:"translate(".concat(t,",").concat(n,")"),children:(0,o.jsx)("text",{x:0,y:0,dy:16,textAnchor:"middle",fill:d?"#dc2626":"#6b7280",fontSize:p?10:12,fontWeight:d?"bold":"normal",children:a(l)})})}}),(0,o.jsx)(h.h,{domain:[0,+y],tickFormatter:e=>"number"==typeof e&&e>=1e6?(e/1e6).toFixed(1)+"M":"number"==typeof e?e.toLocaleString():e,fontSize:p?10:12,width:p?60:80}),(0,o.jsx)(u.m,{formatter:e=>"number"==typeof e?e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e.toLocaleString():e,contentStyle:{fontSize:p?12:14,backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #ccc",borderRadius:"4px",padding:"8px"}}),(0,o.jsx)(f.s,{wrapperStyle:{fontSize:p?10:12,paddingTop:p?10:20}}),(0,o.jsx)(s.y,{dataKey:"Mall",name:"Mall",fill:"#ff7f7f",children:(0,o.jsx)(c.Z,{dataKey:"Mall",position:"top",fontSize:p?10:12,fill:"#ff7f7f",formatter:e=>{if("number"==typeof e&&0===e)return"";if(p){let a=t.find(t=>t.Mall===e);return a&&a.date===g.Mall.date&&e===g.Mall.value?(e/1e6).toFixed(1)+"M":""}{let a=t.find(t=>t.Mall===e);if(!a)return"";let o=x.get(a.date)||0;return"number"==typeof e&&e===o&&e>0?(e/1e6).toFixed(1)+"M":""}}})}),(0,o.jsx)(s.y,{dataKey:"Shophouse",name:"Shophouse",fill:"#b39ddb",children:(0,o.jsx)(c.Z,{dataKey:"Shophouse",position:"top",fontSize:p?10:12,fill:"#b39ddb",formatter:e=>{if("number"==typeof e&&0===e)return"";if(p){let a=t.find(t=>t.Shophouse===e);return a&&a.date===g.Shophouse.date&&e===g.Shophouse.value?(e/1e6).toFixed(1)+"M":""}{let a=t.find(t=>t.Shophouse===e);if(!a)return"";let o=x.get(a.date)||0;return"number"==typeof e&&e===o&&e>0?(e/1e6).toFixed(1)+"M":""}}})}),(0,o.jsx)(s.y,{dataKey:"NhaPho",name:"Nh\xe0 phố",fill:"#8d6e63",children:(0,o.jsx)(c.Z,{dataKey:"NhaPho",position:"top",fontSize:p?10:12,fill:"#8d6e63",formatter:e=>{if("number"==typeof e&&0===e)return"";if(p){let a=t.find(t=>t.NhaPho===e);return a&&a.date===g.NhaPho.date&&e===g.NhaPho.value?(e/1e6).toFixed(1)+"M":""}{let a=t.find(t=>t.NhaPho===e);if(!a)return"";let o=x.get(a.date)||0;return"number"==typeof e&&e===o&&e>0?(e/1e6).toFixed(1)+"M":""}}})}),(0,o.jsx)(s.y,{dataKey:"DaDongCua",name:"Đ\xe3 đ\xf3ng cửa",fill:"#c5e1a5",children:(0,o.jsx)(c.Z,{dataKey:"DaDongCua",position:"top",fontSize:p?10:12,fill:"#c5e1a5",formatter:e=>{if("number"==typeof e&&0===e)return"";if(p){let a=t.find(t=>t.DaDongCua===e);return a?a.date===g.DaDongCua.date&&e===g.DaDongCua.value?e>=1e6?(e/1e6).toFixed(1)+"M":e.toString():"":""}{let a=t.find(t=>t.DaDongCua===e);if(!a)return"";let o=x.get(a.date)||0;return"number"==typeof e&&e===o&&e>0?e>=1e6?(e/1e6).toFixed(1)+"M":e.toString():""}}})}),(0,o.jsx)(s.y,{dataKey:"Khac",name:"Kh\xe1c",fill:"#81d4fa",children:(0,o.jsx)(c.Z,{dataKey:"Khac",position:"top",fontSize:p?10:12,fill:"#81d4fa",formatter:e=>{if("number"==typeof e&&0===e)return"";if(p){let a=t.find(t=>t.Khac===e);return a&&a.date===g.Khac.date&&e===g.Khac.value?(e/1e6).toFixed(1)+"M":""}{let a=t.find(t=>t.Khac===e);if(!a)return"";let o=x.get(a.date)||0;return"number"==typeof e&&e===o&&e>0?(e/1e6).toFixed(1)+"M":""}}})})]})})})]})}}}]);