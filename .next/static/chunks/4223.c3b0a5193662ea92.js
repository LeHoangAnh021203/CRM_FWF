"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4223],{26126:(e,t,r)=>{r.d(t,{E:()=>o});var a=r(95155);r(12115);var s=r(74466),i=r(59434);let n=(0,s.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{className:(0,i.cn)(n({variant:r}),t),...s})}},30285:(e,t,r)=>{r.d(t,{$:()=>l});var a=r(95155),s=r(12115),i=r(99708),n=r(74466),o=r(59434);let d=(0,n.F)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:s,size:n,asChild:l=!1,...c}=e,u=l?i.DX:"button";return(0,a.jsx)(u,{className:(0,o.cn)(d({variant:s,size:n,className:r})),ref:t,...c})});l.displayName="Button"},34223:(e,t,r)=>{r.r(t),r.d(t,{TasksWidget:()=>x});var a=r(95155),s=r(12115),i=r(66695),n=r(67820),o=r(5196),d=r(59434);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.bL,{ref:t,className:(0,d.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...s,children:(0,a.jsx)(n.C1,{className:(0,d.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(o.A,{className:"h-4 w-4"})})})});l.displayName=n.bL.displayName;var c=r(26126),u=r(30285),m=r(62523),f=r(84616),p=r(54416);let h="localhost"===window.location.hostname?"http://localhost:3000":"https://fb-network-demo.vercel.app";function x(){let[e,t]=(0,s.useState)([]),[r,n]=(0,s.useState)(""),[o,d]=(0,s.useState)(!1),[x,g]=(0,s.useState)(!0),[b,y]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{try{g(!0);let e=new AbortController,r=setTimeout(()=>e.abort(),1e4),a=await fetch("".concat(h,"/api/dashboard/tasks"),{method:"GET",headers:{"Content-Type":"application/json"},signal:e.signal});if(clearTimeout(r),!a.ok)throw Error("HTTP error! status: ".concat(a.status));let s=await a.json();t(s),y(null)}catch(e){y(e instanceof Error?e.message:"Failed to fetch tasks"),console.warn("Tasks fetch error:",e),t([{id:1,title:"Review monthly reports",priority:"high",completed:!1,dueDate:"Today"},{id:2,title:"Update customer database",priority:"medium",completed:!0,dueDate:"Tomorrow"},{id:3,title:"Prepare presentation",priority:"low",completed:!1,dueDate:"Next week"}])}finally{g(!1)}})()},[]);let v=async r=>{t(e.map(e=>e.id===r?{...e,completed:!e.completed}:e));try{let t=e.find(e=>e.id===r);if(t){let e=new AbortController,a=setTimeout(()=>e.abort(),1e4),s=await fetch("".concat(h,"/api/dashboard/tasks/").concat(r),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({completed:!t.completed}),signal:e.signal});if(clearTimeout(a),!s.ok)throw Error("HTTP error! status: ".concat(s.status))}}catch(r){console.warn("Failed to update task:",r),t(e)}},j=async()=>{if(r.trim()){let a={id:Date.now(),title:r,priority:"medium",completed:!1,dueDate:"Today"};try{let r=new AbortController,s=setTimeout(()=>r.abort(),1e4),i=await fetch("".concat(h,"/api/dashboard/tasks"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a),signal:r.signal});if(clearTimeout(s),i.ok){let r=await i.json();t([...e,r]),n(""),d(!1)}else throw Error("HTTP error! status: ".concat(i.status))}catch(r){console.warn("Failed to add task:",r),t([...e,a]),n(""),d(!1)}}};return x?(0,a.jsxs)(i.Zp,{className:"bg-white",children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded animate-pulse mb-2 w-24"}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-48"})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"h-4 w-4 bg-gray-200 rounded animate-pulse"}),(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-32"})}),(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded animate-pulse w-12"})]},t))})})]}):b?(0,a.jsxs)(i.Zp,{className:"bg-white",children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{className:"text-lg font-semibold",children:"Recent Tasks"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Your upcoming and completed tasks"})]}),(0,a.jsx)(i.Wu,{children:(0,a.jsxs)("div",{className:"text-center text-gray-500 py-8",children:[(0,a.jsx)("p",{children:"Failed to load tasks"}),(0,a.jsx)("p",{className:"text-sm mt-2",children:b})]})})]}):(0,a.jsxs)(i.Zp,{className:"bg-white",children:[(0,a.jsxs)(i.aR,{children:[(0,a.jsx)(i.ZB,{className:"text-lg font-semibold",children:"Recent Tasks"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Your upcoming and completed tasks"})]}),(0,a.jsxs)(i.Wu,{children:[o?(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg",children:[(0,a.jsx)(m.p,{placeholder:"Enter new task...",value:r,onChange:e=>n(e.target.value),onKeyPress:e=>"Enter"===e.key&&j(),className:"flex-1"}),(0,a.jsx)(u.$,{size:"sm",onClick:j,children:(0,a.jsx)(f.A,{className:"h-4 w-4"})}),(0,a.jsx)(u.$,{size:"sm",variant:"outline",onClick:()=>d(!1),children:(0,a.jsx)(p.A,{className:"h-4 w-4"})})]}):(0,a.jsxs)(u.$,{variant:"outline",size:"sm",onClick:()=>d(!0),className:"w-full mb-4",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"Add New Task"]}),(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50",children:[(0,a.jsx)(l,{checked:e.completed,onCheckedChange:()=>v(e.id),className:"data-[state=checked]:bg-blue-600 data-[state=checked]:border-blue-600"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium ".concat(e.completed?"line-through text-gray-500":"text-gray-900"),children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.dueDate})]}),(0,a.jsx)(c.E,{variant:"high"===e.priority?"destructive":"medium"===e.priority?"default":"secondary",children:e.priority})]},e.id))}),(0,a.jsx)("div",{className:"mt-4 pt-4 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,a.jsxs)("span",{children:["Completed: ",e.filter(e=>e.completed).length]}),(0,a.jsxs)("span",{children:["Remaining: ",e.filter(e=>!e.completed).length]})]})})]})]})}},59434:(e,t,r)=>{r.d(t,{cn:()=>i});var a=r(52596),s=r(39688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},62523:(e,t,r)=>{r.d(t,{p:()=>n});var a=r(95155),s=r(12115),i=r(59434);let n=s.forwardRef((e,t)=>{let{className:r,type:s,...n}=e;return(0,a.jsx)("input",{type:s,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n})});n.displayName="Input"},66695:(e,t,r)=>{r.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>o});var a=r(95155),s=r(12115),i=r(59434);let n=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...s})});n.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...s})});o.displayName="CardHeader";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...s})});d.displayName="CardTitle";let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...s})});l.displayName="CardDescription";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...s})});c.displayName="CardContent",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...s})}).displayName="CardFooter"}}]);