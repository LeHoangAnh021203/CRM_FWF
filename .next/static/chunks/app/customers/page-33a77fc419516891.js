(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[812],{50660:(e,t,a)=>{Promise.resolve().then(a.bind(a,69022))},69022:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>K});var l=a(95155),n=a(12115),r=a(68931),s=a(90560),i=a(83540),c=a(93504),d=a(94754),o=a(96025),h=a(52071),x=a(27086),m=a(64683),g=a(42366),u=a(90170),p=a(18357),f=a(54811),b=a(3401),j=a(56690),y=a(3071),v=a(12129),k=a(49124),N=a(63195);let w=e=>{let{active:t,payload:a,label:n}=e;return t&&a&&a.length?(0,l.jsxs)("div",{className:"bg-white p-3 rounded-lg shadow-lg border border-gray-200",children:[(0,l.jsx)("p",{className:" text-sm font-semibold text-gray-700",children:"Ng\xe0y: ".concat(n)}),a.map((e,t)=>(0,l.jsx)("p",{className:"text-sm",style:{color:e.color},children:"".concat(e.name,": ").concat(e.value)},t))]}):null};function K(){let[e,t]=(0,n.useState)([]),[a,K]=(0,n.useState)(null),[S,T]=(0,n.useState)(!1),[C,H]=(0,n.useState)(!1),[D,W]=(0,n.useState)((0,r.Ec)((0,r.Xj)()).subtract({days:7})),[F,L]=(0,n.useState)((0,r.Ec)((0,r.Xj)())),[A,U]=(0,n.useState)([]),[z,E]=(0,n.useState)(!1),[B,M]=(0,n.useState)([]),[X,R]=(0,n.useState)(!1),V=[...Array.isArray(y)?y:[],...Array.isArray(v)?v:[],...Array.isArray(k)?k:[],...Array.isArray(N)?N:[]],$=V.map(e=>{var t,a;let l=e["Unnamed: 7"];return"Nam"!==l&&"Nữ"!==l&&(l="#N/A"),{date:String(e["Unnamed: 1"]||e["Unnamed: 3"]||""),value:Number(null!=(t=e["Unnamed: 18"])?t:e["Unnamed: 9"])||0,value2:Number(null!=(a=e["Unnamed: 19"])?a:e["Unnamed: 10"])||0,type:String(e["Unnamed: 12"]||""),status:String(e["Unnamed: 13"]||""),gender:l,region:String(e["Unnamed: 10"]||""),branch:String(e["Unnamed: 11"]||""),source:String(e["Unnamed: 13"]||"")}}).filter(e=>e.date&&("Nam"===e.gender||"Nữ"===e.gender));function _(e,t,a,l,n,r,s){return e.filter(e=>{let i=0===t.length||t.includes(e.type),c=!a||e.status===a,d=ej(e.date),o=d.compare(l)>=0&&0>=d.compare(n),h=!r||0===r.length||!e.region||r.includes(e.region),x=!s||0===s.length||!e.branch||s.includes(e.branch);return i&&c&&o&&h&&x})}let O=$.filter(e=>{let t=ej(e.date);return t.compare(D)>=0&&0>=t.compare(F)});function P(e){let t=e.match(/^\d{1,2}:\d{2} (\d{1,2})\/(\d{1,2})\/(\d{4})$/);if(t||(t=e.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/))){let[,e,a,l]=t;return"".concat(l,"-").concat(a.padStart(2,"0"),"-").concat(e.padStart(2,"0"))}return t=e.match(/^(\d{4})-(\d{2})-(\d{2})$/),e}let G=Object.values(O.reduce((e,t)=>{let a=P(t.date);if(!a)return e;switch(!e[a]&&(e[a]={date:a,KHTraiNghiem:0,KHThanhVien:0,KHBac:0,KHVang:0,KHDong:0,KHKimcuong:0,type:"",status:""}),t.type){case"KH trải nghiệm":e[a].KHTraiNghiem+=1;break;case"Kh\xe1ch h\xe0ng Th\xe0nh vi\xean":e[a].KHThanhVien+=1;break;case"Kh\xe1ch h\xe0ng Bạc":e[a].KHBac+=1;break;case"Kh\xe1ch h\xe0ng V\xe0ng":e[a].KHVang+=1;break;case"Kh\xe1ch h\xe0ng Đồng":e[a].KHDong+=1;break;case"Kh\xe1ch h\xe0ng Kim cương":e[a].KHKimcuong+=1}return e},{})),I=[{key:"vangLai",label:"V\xe3ng lai",match:["V\xe3ng lai","vanglai","Vang lai"]},{key:"fanpage",label:"Fanpage",match:["Fanpage","fanpage"]},{key:"facebook",label:"Facebook",match:["Facebook","facebook"]},{key:"app",label:"App",match:["App","app"]},{key:"web",label:"Web",match:["Web","web"]},{key:"tiktok",label:"Tiktok shop",match:["Tiktok","Tiktok shop","tiktok"]}],Y=Object.values(O.reduce((e,t)=>{let a=P(t.date);if(!a)return e;e[a]||(e[a]={date:a,vangLai:0,fanpage:0,facebook:0,app:0,web:0,tiktok:0,chuaXacDinh:0,type:"",status:""});let l=!1;for(let n of I)if(n.match.some(e=>t.source&&t.source.toLowerCase().includes(e.toLowerCase()))){"vangLai"===n.key?e[a].vangLai+=1:"fanpage"===n.key?e[a].fanpage+=1:"facebook"===n.key?e[a].facebook+=1:"app"===n.key?e[a].app+=1:"web"===n.key?e[a].web+=1:"tiktok"===n.key&&(e[a].tiktok+=1),l=!0;break}return l||(e[a].chuaXacDinh+=1),e},{})),q=["NG\xc0Y TẠO","M\xc3 ĐƠN H\xc0NG","T\xcaN KH\xc1CH H\xc0NG","SỐ ĐIỆN THOẠI","NH\xd3M KH\xc1CH H\xc0NG"],J=V.filter(e=>{let t=e["Unnamed: 1"]||e["Unnamed: 3"]||"";if(q.includes(String(t).trim().toUpperCase()))return!1;let a=ej(t);return a.compare(D)>=0&&0>=a.compare(F)}),Q=new Set;J.forEach(e=>{e["Unnamed: 4"]&&Q.add(e["Unnamed: 4"].toString().trim())});let Z=new Set;Array.isArray(N)&&N.forEach(e=>{var t;let a=null==(t=e["Unnamed: 3"])?void 0:t.toString().trim();a&&Q.has(a)&&Z.add(a)});let ee=Q.size,et=Z.size,ea=ee-et,el=[{name:"Kh\xe1ch h\xe0ng",daTaiApp:et,chuaTaiApp:ea}],en=["#9ee347","#f0bf4c"],er=[{name:"Kh\xe1ch mới",value:2847,color:"#5bd1d7"},{name:"Kh\xe1ch cũ",value:1690,color:"#eb94cf"}],es=["#5bd1d7","#eb94cf"],ei=new Set;V.forEach(e=>{var t;let a=e["Unnamed: 1"]||e["Unnamed: 3"]||"";if(q.includes(String(a).trim().toUpperCase()))return;let l=ej(a),n=null==(t=e["Unnamed: 4"])?void 0:t.toString().trim();n&&0>l.compare(D)&&ei.add(n)});let ec=new Set,ed=new Set;J.forEach(e=>{var t;let a=null==(t=e["Unnamed: 4"])?void 0:t.toString().trim();a&&(ei.has(a)||ec.has(a)||(ed.add(a),ec.add(a)))});let eo=J.filter(e=>{var t;let a=null==(t=e["Unnamed: 4"])?void 0:t.toString().trim();return a&&ed.has(a)}),eh=eo.filter(e=>"KH trải nghiệm"===e.type).length,ex=eo.filter(e=>"Kh\xe1ch h\xe0ng Th\xe0nh vi\xean"===e.type).length,em=eo.filter(e=>"Mua sản phẩm"===e.type).length,eg=J.filter(e=>{var t;let a=null==(t=e["Unnamed: 4"])?void 0:t.toString().trim();return a&&ei.has(a)}),eu=eg.filter(e=>"KH trải nghiệm"===e.type).length,ep=eg.filter(e=>"Kh\xe1ch h\xe0ng Th\xe0nh vi\xean"===e.type).length,ef=eg.filter(e=>"Mua sản phẩm"===e.type).length,eb=["#FF6900","#CF2E2E","#00D084"];function ej(e){if(!e||"string"!=typeof e)return(0,r.Ec)((0,r.Xj)());let t=e.match(/^\d{1,2}:\d{2} (\d{1,2})\/(\d{1,2})\/(\d{4})$/);if(t||(t=e.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/))){let[,e,a,l]=t;return(0,s._U)("".concat(l,"-").concat(a.padStart(2,"0"),"-").concat(e.padStart(2,"0")))}return(0,r.Ec)((0,r.Xj)())}let ey=O.filter(e=>"Nam"===e.gender&&e.value>0),ev=ey.length>0?Math.round(ey.reduce((e,t)=>e+t.value,0)/ey.length):0,ek=O.filter(e=>"Nữ"===e.gender&&e.value>0),eN=ek.length>0?Math.round(ek.reduce((e,t)=>e+t.value,0)/ek.length):0,ew=O.filter(e=>"Nam"===e.gender&&e.value>0),eK=ew.length>0?Math.round(ew.reduce((e,t)=>e+t.value,0)/ew.length):0,eS=O.filter(e=>"Nữ"===e.gender&&e.value>0),eT=eS.length>0?Math.round(eS.reduce((e,t)=>e+t.value,0)/eS.length):0,eC=[{name:"Đ\xe3 tải app",value:et},{name:"Chưa tải app",value:ea}],eH=new Set,eD=0,eW=0;J.forEach(e=>{var t;let a=null==(t=e["Unnamed: 4"])?void 0:t.toString().trim();a&&(ei.has(a)||eH.has(a)?eW++:(eD++,eH.add(a)))});let eF=[{name:"Kh\xe1ch mới",value:eD},{name:"Kh\xe1ch cũ",value:eW}],eL=(function(e,t){let a=[],l=e;for(;0>=l.compare(t);)a.push(l),l=l.add({days:1});return a})(D,F).map(t=>{let l=t.toString(),n=_($,e,a,t,t,A,B).length,r=t.subtract({days:30});return{date:l,value:n,value2:_($,e,a,r,r,A,B).length}});return(0,l.jsx)("div",{className:"p-4 lg:p-6",children:(0,l.jsx)("div",{className:"mb-4 lg:mb-6",children:(0,l.jsxs)("div",{className:"p-2",children:[(0,l.jsx)("h1",{className:"text-xl lg:text-2xl font-semibold text-gray-900 mb-2",children:"Customer Report"}),(0,l.jsxs)("div",{className:"flex flex-col gap-4 lg:gap-6 mb-4 lg:mb-6",children:[(0,l.jsxs)("div",{className:"w-full flex flex-col sm:flex-row gap-4 bg-white p-4 rounded-lg shadow",children:[(0,l.jsxs)("div",{className:"flex-1 flex flex-col gap-1",children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:"Start date"}),(0,l.jsx)("input",{type:"date",className:"border border-gray-300 rounded p-2 bg-white focus:outline-none focus:ring-2 focus:ring-[#f66035]",value:D.toString(),onChange:e=>{W((0,s._U)(e.target.value))},max:(0,r.Ec)((0,r.Xj)()).toString()})]}),(0,l.jsxs)("div",{className:"flex-1 flex flex-col gap-1",children:[(0,l.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:"End date"}),(0,l.jsx)("input",{type:"date",className:"border border-gray-300 rounded p-2 bg-white focus:outline-none focus:ring-2 focus:ring-[#f66035]",value:F.toString(),onChange:e=>{L((0,s._U)(e.target.value))},min:D.add({days:1}).toString(),max:(0,r.Ec)((0,r.Xj)()).toString()})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("button",{className:"block border rounded p-2 w-full text-left bg-white shadow border-[orange] hover:bg-gray-50 transition-colors",onClick:()=>T(e=>!e),type:"button",children:[(0,l.jsx)("span",{className:"font-semibold",children:"Loại kh\xe1ch"}),e.length>0&&(0,l.jsxs)("span",{children:[" (",e.length,")"]}),(0,l.jsx)("span",{className:"float-right",children:"▼"})]}),S&&(0,l.jsxs)("div",{className:"absolute z-20 bg-white border rounded shadow w-full mt-1 max-h-60 overflow-auto",children:[(0,l.jsxs)("label",{className:"flex items-center px-3 py-2 cursor-pointer hover:bg-gray-100",children:[(0,l.jsx)("input",{type:"checkbox",checked:0===e.length,onChange:()=>t([]),className:"mr-2"}),"Tất cả"]}),["KH trải nghiệm","Kh\xe1ch h\xe0ng Th\xe0nh vi\xean","Kh\xe1ch h\xe0ng Bạc","Kh\xe1ch h\xe0ng V\xe0ng","Kh\xe1ch h\xe0ng Bạch Kim","Kh\xe1ch h\xe0ng Kim cương"].map(a=>(0,l.jsxs)("label",{className:"flex items-center px-3 py-2 cursor-pointer hover:bg-gray-100",children:[(0,l.jsx)("input",{type:"checkbox",checked:e.includes(a),onChange:()=>{t(e=>e.includes(a)?e.filter(e=>e!==a):[...e,a])},className:"mr-2"}),a]},a)),(0,l.jsx)("button",{className:"w-full text-center py-2 text-orange-600 hover:underline",onClick:()=>T(!1),type:"button",children:"Đ\xf3ng"})]})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("button",{className:"block border rounded p-2 w-full text-left bg-white shadow border-[orange] hover:bg-gray-50 transition-colors",onClick:()=>H(e=>!e),type:"button",children:[(0,l.jsx)("span",{className:"font-semibold",children:"Kh\xe1ch mới/cũ"}),a&&(0,l.jsxs)("span",{children:[": ",a]}),(0,l.jsx)("span",{className:"float-right",children:"▼"})]}),C&&(0,l.jsxs)("div",{className:"absolute z-20 bg-white border rounded shadow w-full mt-1 max-h-60 overflow-auto",children:[(0,l.jsxs)("label",{className:"flex items-center px-3 py-2 cursor-pointer hover:bg-gray-100",children:[(0,l.jsx)("input",{type:"radio",name:"customerStatus",checked:!a,onChange:()=>K(null),className:"mr-2"}),"Tất cả"]}),["New","Old"].map(e=>(0,l.jsxs)("label",{className:"flex items-center px-3 py-2 cursor-pointer hover:bg-gray-100",children:[(0,l.jsx)("input",{type:"radio",name:"customerStatus",checked:a===e,onChange:()=>K(e),className:"mr-2"}),e]},e)),(0,l.jsx)("button",{className:"w-full text-center py-2 text-orange-600 hover:underline",onClick:()=>H(!1),type:"button",children:"Đ\xf3ng"})]})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("button",{className:"block border rounded p-2 w-full text-left bg-white shadow border-[orange] hover:bg-gray-50 transition-colors",onClick:()=>E(e=>!e),type:"button",children:[(0,l.jsx)("span",{className:"font-semibold",children:"Region"}),A.length>0&&(0,l.jsxs)("span",{children:[" (",A.length,")"]}),(0,l.jsx)("span",{className:"float-right",children:"▼"})]}),z&&(0,l.jsxs)("div",{className:"absolute z-20 bg-white border rounded shadow w-full mt-1 max-h-60 overflow-auto",children:[(0,l.jsxs)("label",{className:"flex items-center px-3 py-2 cursor-pointer hover:bg-gray-100",children:[(0,l.jsx)("input",{type:"checkbox",checked:0===A.length,onChange:()=>U([]),className:"mr-2"}),"Tất cả"]}),["Đ\xe3 đ\xf3ng cửa","Đ\xe0 Nẵng","Nha Trang","H\xe0 Nội","HCM"].map(e=>(0,l.jsxs)("label",{className:"flex items-center px-3 py-2 cursor-pointer hover:bg-gray-100",children:[(0,l.jsx)("input",{type:"checkbox",checked:A.includes(e),onChange:()=>{U(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"mr-2"}),e]},e)),(0,l.jsx)("button",{className:"w-full text-center py-2 text-orange-600 hover:underline",onClick:()=>E(!1),type:"button",children:"Đ\xf3ng"})]})]}),(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("button",{className:"block border rounded p-2 w-full text-left bg-white shadow border-[orange]",onClick:()=>R(e=>!e),type:"button",children:[(0,l.jsx)("span",{className:"font-semibold",children:"Branch"}),B.length>0&&(0,l.jsxs)("span",{children:[" (",B.length,")"]}),(0,l.jsx)("span",{className:"float-right",children:"▼"})]}),X&&(0,l.jsxs)("div",{className:"absolute z-20 bg-white border rounded shadow w-64 mt-1 max-h-60 overflow-auto",children:[(0,l.jsxs)("label",{className:"flex items-center px-3 py-2 cursor-pointer hover:bg-gray-100",children:[(0,l.jsx)("input",{type:"checkbox",checked:0===B.length,onChange:()=>M([]),className:"mr-2"}),"Tất cả"]}),["Branch 1","Branch 2","Branch 3"].map(e=>(0,l.jsxs)("label",{className:"flex items-center px-3 py-2 cursor-pointer hover:bg-gray-100",children:[(0,l.jsx)("input",{type:"checkbox",checked:B.includes(e),onChange:()=>{M(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"mr-2"}),e]},e)),(0,l.jsx)("button",{className:"w-full text-center py-2 text-orange-600 hover:underline",onClick:()=>R(!1),type:"button",children:"Đ\xf3ng"})]})]})]})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-4 lg:mb-6",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 lg:p-6 flex flex-col items-center col-span-1 lg:col-span-4",children:[(0,l.jsx)("div",{className:"text-sm lg:text-xl text-gray-700 mb-2 text-center font-semibold",children:"Tổng số kh\xe1ch trong khoảng ng\xe0y đ\xe3 chọn"}),(0,l.jsxs)("div",{className:"text-3xl lg:text-5xl font-bold text-[#f66035] mb-2",children:[O.length.toLocaleString()," ",(0,l.jsx)("span",{className:"text-lg lg:text-2xl",children:"kh\xe1ch"})]})]})}),(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-4 lg:mb-6",children:[(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 lg:p-6 flex flex-col items-center",children:[(0,l.jsx)("div",{className:"text-sm lg:text-xl text-gray-700 mb-2 text-center",children:"Trung b\xecnh đơn thực thu (Nam)"}),(0,l.jsxs)("div",{className:"text-3xl lg:text-5xl font-bold text-[#f66035] mb-2",children:[ev.toLocaleString()," ",(0,l.jsx)("span",{className:"text-lg lg:text-2xl",children:"đ"})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 lg:p-6 flex flex-col items-center",children:[(0,l.jsx)("div",{className:"text-sm lg:text-xl text-gray-700 mb-2 text-center",children:"Trung b\xecnh đơn thực thu (Nữ)"}),(0,l.jsxs)("div",{className:"text-3xl lg:text-5xl font-bold text-[#0693e3] mb-2",children:[eN.toLocaleString()," ",(0,l.jsx)("span",{className:"text-lg lg:text-2xl",children:"đ"})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 lg:p-6 flex flex-col items-center",children:[(0,l.jsx)("div",{className:"text-sm lg:text-xl text-gray-700 mb-2 text-center",children:"Trung b\xecnh đơn dịch vụ (Nam)"}),(0,l.jsxs)("div",{className:"text-3xl lg:text-5xl font-bold text-[#00d082] mb-2",children:[eK.toLocaleString()," ",(0,l.jsx)("span",{className:"text-lg lg:text-2xl",children:"đ"})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow p-4 lg:p-6 flex flex-col items-center",children:[(0,l.jsx)("div",{className:"text-sm lg:text-xl text-gray-700 mb-2 text-center",children:"Trung b\xecnh đơn dịch vụ (Nữ)"}),(0,l.jsxs)("div",{className:"text-3xl lg:text-5xl font-bold text-[#9b51e0] mb-2",children:[eT.toLocaleString()," ",(0,l.jsx)("span",{className:"text-lg lg:text-2xl",children:"đ"})]})]})]}),(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row w-full gap-4 lg:gap-4",children:[(0,l.jsxs)("div",{className:"w-full lg:w-1/2 bg-white p-4 rounded-xl shadow-lg",children:[(0,l.jsx)("h2",{className:"text-lg lg:text-xl text-center font-semibold text-gray-800 mb-4",children:"Số kh\xe1ch tạo mới"}),(0,l.jsx)(i.u,{width:"100%",height:350,children:(0,l.jsxs)(c.b,{data:eL,margin:{top:10,right:30,left:0,bottom:10},children:[(0,l.jsx)(d.d,{stroke:"#e5e7eb",strokeDasharray:"5 5"}),(0,l.jsx)(o.W,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:{stroke:"#d1d5db"},tickFormatter:e=>{let t=e.match(/^\d{4}-(\d{2})-(\d{2})$/);if(t){let[,e,a]=t;return"".concat(a,"/").concat(e)}let a=e.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/);if(a){let[,e,t]=a;return"".concat(e,"/").concat(t)}let l=e.match(/^\d{1,2}:\d{2} (\d{1,2})\/(\d{1,2})\/(\d{4})$/);if(l){let[,e,t]=l;return"".concat(e,"/").concat(t)}return e}}),(0,l.jsx)(h.h,{stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:{stroke:"#d1d5db"},tickFormatter:e=>e>0?"".concat(e," kh\xe1ch"):e,padding:{bottom:10,top:10}}),(0,l.jsx)(x.m,{content:w}),(0,l.jsx)(m.s,{wrapperStyle:{paddingTop:"20px",fontSize:"14px",color:"#4b5563"},iconType:"circle",iconSize:10}),(0,l.jsx)(g.N,{type:"natural",dataKey:"value",name:"Số kh\xe1ch mới",stroke:"#5bd1d7",strokeWidth:2,dot:!1,activeDot:{r:6,fill:"#5bd1d7",stroke:"#fff",strokeWidth:2},animationDuration:1500}),(0,l.jsx)(g.N,{type:"natural",dataKey:"value2",name:"Số kh\xe1ch mới (30 ng\xe0y trước)",stroke:"#eb94cf",strokeWidth:2,dot:!1,activeDot:{r:6,fill:"#eb94cf",stroke:"#fff",strokeWidth:2},animationDuration:1500})]})})]}),(0,l.jsxs)("div",{className:"w-full lg:w-1/2 bg-white p-4 rounded-xl shadow-lg",children:[(0,l.jsx)("h2",{className:"text-lg lg:text-xl font-semibold text-gray-800 mb-4 text-center",children:"Tỷ lệ nam/nữ kh\xe1ch mới tạo"}),(0,l.jsx)(i.u,{width:"100%",height:300,children:(0,l.jsxs)(u.r,{children:[(0,l.jsx)(p.F,{data:[{name:"Nam",value:O.filter(e=>"Nam"===e.gender).length},{name:"Nữ",value:O.filter(e=>"Nữ"===e.gender).length}],cx:"50%",cy:"50%",innerRadius:"0%",outerRadius:"80%",fill:"#f933347",dataKey:"value",labelLine:!1,label:e=>{let{percent:t}=e;return" ".concat(t?(100*t).toFixed(0):0,"%")},children:["#f59794","#9ee347"].map((e,t)=>(0,l.jsx)(f.f,{fill:e},t))}),(0,l.jsx)(x.m,{}),(0,l.jsx)(m.s,{wrapperStyle:{paddingTop:"10px",fontSize:"12px",color:"#4b5563"},iconType:"circle",iconSize:8})]})})]})]}),(0,l.jsxs)("div",{className:"flex flex-col md:flex-row gap-2 md:gap-4 mt-4",children:[(0,l.jsxs)("div",{className:"flex-1 bg-white rounded-xl shadow-lg p-6 flex flex-col items-center justify-center",children:[(0,l.jsx)("div",{className:"text-xl font-medium text-gray-700 mb-2 text-center",children:"Tổng số kh\xe1ch mới trong hệ thống"}),(0,l.jsx)("div",{className:"text-5xl font-bold text-black mb-2",children:O.length.toLocaleString()})]}),(0,l.jsxs)("div",{className:"flex-1 bg-white rounded-xl shadow-lg p-6 flex flex-col items-center justify-center",children:[(0,l.jsx)("div",{className:"text-xl font-medium text-gray-700 mb-2 text-center",children:"Tổng số kh\xe1ch mới thực đi"}),(0,l.jsx)("div",{className:"text-5xl font-bold text-black mb-2",children:O.filter(e=>e.value>0).length.toLocaleString()})]})]}),(0,l.jsxs)("div",{className:"w-full bg-white pt-2 mt-5 rounded-xl shadow-lg",children:[(0,l.jsx)("h2",{className:"text-xl text-center font-semibold text-gray-800 mt-4",children:"Số kh\xe1ch tới chia theo loại"}),(0,l.jsx)(i.u,{width:"100%",height:350,children:(0,l.jsxs)(c.b,{data:G,margin:{top:10,right:30,left:0,bottom:10},children:[(0,l.jsx)(d.d,{stroke:"#e5e7eb",strokeDasharray:"5 5"}),(0,l.jsx)(o.W,{dataKey:"date",stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:{stroke:"#d1d5db"},tickFormatter:e=>{let t=e.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(t){let[,,e,a]=t;return"".concat(a,"/").concat(e)}return e}}),(0,l.jsx)(h.h,{stroke:"#6b7280",fontSize:12,tickLine:!1,axisLine:{stroke:"#d1d5db"},tickFormatter:e=>e>0?"".concat(e," kh\xe1ch"):e,padding:{bottom:10,top:10}}),(0,l.jsx)(x.m,{content:w}),(0,l.jsx)(m.s,{wrapperStyle:{paddingTop:"20px",fontSize:"14px",color:"#4b5563",gap:"5px"},iconType:"circle",iconSize:10}),(0,l.jsx)(g.N,{type:"natural",dataKey:"KHTraiNghiem",name:"KH Trải Nghiệm",stroke:"#5bd1d7",strokeWidth:2,dot:!1,activeDot:{r:6,fill:"#5bd1d7",stroke:"#fff",strokeWidth:2},animationDuration:1500}),(0,l.jsx)(g.N,{type:"natural",dataKey:"KHThanhVien",name:"KH Th\xe0nh Vi\xean",stroke:"#eb94cf",strokeWidth:2,dot:!1,activeDot:{r:6,fill:"#eb94cf",stroke:"#fff",strokeWidth:2},animationDuration:1500}),(0,l.jsx)(g.N,{type:"natural",dataKey:"KHDong",name:"KH Đồng",stroke:"#9ee347",strokeWidth:2,dot:!1,activeDot:{r:6,fill:"#9ee347",stroke:"#fff",strokeWidth:2},animationDuration:1500}),(0,l.jsx)(g.N,{type:"natural",dataKey:"KHBac",name:"KH Bạc",stroke:"#f59794",strokeWidth:2,dot:!1,activeDot:{r:6,fill:"#f59794",stroke:"#fff",strokeWidth:2},animationDuration:1500}),(0,l.jsx)(g.N,{type:"natural",dataKey:"KHVang",name:"KH V\xe0ng",stroke:"#f0bf4c",strokeWidth:2,dot:!1,activeDot:{r:6,fill:"#f0bf4c",stroke:"#fff",strokeWidth:2},animationDuration:1500}),(0,l.jsx)(g.N,{type:"natural",dataKey:"KHKimcuong",name:"KH Kim Cuơng",stroke:"#bccefb",strokeWidth:2,dot:!1,activeDot:{r:6,fill:"#bccefb",stroke:"#fff",strokeWidth:2},animationDuration:1500})]})})]}),(0,l.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-lg",children:[(0,l.jsx)("div",{className:"text-xl font-medium text-gray-700 text-center",children:"Nguồn của đơn h\xe0ng"}),(0,l.jsx)("div",{className:"w-full bg-white rounded-xl shadow-lg",children:(0,l.jsx)(i.u,{width:"100%",height:400,children:(0,l.jsxs)(b.E,{width:1e3,height:400,data:Y,margin:{top:50,right:30,left:20,bottom:5},children:[(0,l.jsx)(d.d,{strokeDasharray:"3 3"}),(0,l.jsx)(o.W,{dataKey:"date",tickFormatter:e=>{let t=e.match(/^\d{4}-(\d{2})-(\d{2})$/);if(t){let[,e,a]=t;return"".concat(a,"/").concat(e)}return e}}),(0,l.jsx)(h.h,{}),(0,l.jsx)(x.m,{}),(0,l.jsx)(m.s,{wrapperStyle:{paddingTop:5,paddingBottom:10,display:"flex",justifyContent:"center",flexWrap:"wrap",width:"100%"}}),(0,l.jsx)(j.y,{dataKey:"vangLai",fill:"#ff7f7f",name:"V\xe3ng lai",label:e=>{let{x:t,y:a,width:n,value:r,index:s}=e,i=Y[s];return i&&r===Math.max(i.vangLai,i.fanpage,i.chuaXacDinh,i.facebook,i.app,i.web,i.tiktok)&&r>0?(0,l.jsx)("text",{x:t+n/2,y:a-5,textAnchor:"middle",fill:"#ff7f7f",fontSize:12,fontWeight:600,children:r}):(0,l.jsx)(l.Fragment,{})}}),(0,l.jsx)(j.y,{dataKey:"fanpage",fill:"#b39ddb",name:"Fanpage",label:e=>{let{x:t,y:a,width:n,value:r,index:s}=e,i=Y[s];return i&&r===Math.max(i.vangLai,i.fanpage,i.chuaXacDinh,i.facebook,i.app,i.web,i.tiktok)&&r>0?(0,l.jsx)("text",{x:t+n/2,y:a-5,textAnchor:"middle",fill:"#b39ddb",fontSize:12,fontWeight:600,children:r}):(0,l.jsx)(l.Fragment,{})}}),(0,l.jsx)(j.y,{dataKey:"chuaXacDinh",fill:"#8d6e63",name:"Chưa x\xe1c định",label:e=>{let{x:t,y:a,width:n,value:r,index:s}=e,i=Y[s];return i&&r===Math.max(i.vangLai,i.fanpage,i.chuaXacDinh,i.facebook,i.app,i.web,i.tiktok)&&r>0?(0,l.jsx)("text",{x:t+n/2,y:a-5,textAnchor:"middle",fill:"#8d6e63",fontSize:12,fontWeight:600,children:r}):(0,l.jsx)(l.Fragment,{})}}),(0,l.jsx)(j.y,{dataKey:"facebook",fill:"#c5e1a5",name:"Facebook",label:e=>{let{x:t,y:a,width:n,value:r,index:s}=e,i=Y[s];return i&&r===Math.max(i.vangLai,i.fanpage,i.chuaXacDinh,i.facebook,i.app,i.web,i.tiktok)&&r>0?(0,l.jsx)("text",{x:t+n/2,y:a-5,textAnchor:"middle",fill:"#c5e1a5",fontSize:12,fontWeight:600,children:r}):(0,l.jsx)(l.Fragment,{})}}),(0,l.jsx)(j.y,{dataKey:"app",fill:"#81d4fa",name:"App",label:e=>{let{x:t,y:a,width:n,value:r,index:s}=e,i=Y[s];return i&&r===Math.max(i.vangLai,i.fanpage,i.chuaXacDinh,i.facebook,i.app,i.web,i.tiktok)&&r>0?(0,l.jsx)("text",{x:t+n/2,y:a-5,textAnchor:"middle",fill:"#81d4fa",fontSize:12,fontWeight:600,children:r}):(0,l.jsx)(l.Fragment,{})}}),(0,l.jsx)(j.y,{dataKey:"web",fill:"#fff176",name:"Web",label:e=>{let{x:t,y:a,width:n,value:r,index:s}=e,i=Y[s];return i&&r===Math.max(i.vangLai,i.fanpage,i.chuaXacDinh,i.facebook,i.app,i.web,i.tiktok)&&r>0?(0,l.jsx)("text",{x:t+n/2,y:a-5,textAnchor:"middle",fill:"#fff176",fontSize:12,fontWeight:600,children:r}):(0,l.jsx)(l.Fragment,{})}}),(0,l.jsx)(j.y,{dataKey:"tiktok",fill:"#d81b60",name:"Tiktok shop",label:e=>{let{x:t,y:a,width:n,value:r,index:s}=e,i=Y[s];return i&&r===Math.max(i.vangLai,i.fanpage,i.chuaXacDinh,i.facebook,i.app,i.web,i.tiktok)&&r>0?(0,l.jsx)("text",{x:t+n/2,y:a-5,textAnchor:"middle",fill:"#d81b60",fontSize:12,fontWeight:600,children:r}):(0,l.jsx)(l.Fragment,{})}})]})})})]}),(0,l.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-lg mt-4 lg:mt-5",children:[(0,l.jsx)("div",{className:"text-lg lg:text-xl font-medium text-gray-700 text-center pt-6 lg:pt-10",children:"Kh\xe1ch tải app/kh\xf4ng tải"}),(0,l.jsx)("div",{className:"flex justify-center items-center py-4 lg:py-8",children:(0,l.jsx)(i.u,{width:"100%",height:300,children:(0,l.jsxs)(b.E,{data:el,margin:{top:20,right:20,left:20,bottom:20},children:[(0,l.jsx)(d.d,{strokeDasharray:"3 3"}),(0,l.jsx)(o.W,{dataKey:"name"}),(0,l.jsx)(h.h,{allowDecimals:!1}),(0,l.jsx)(x.m,{}),(0,l.jsx)(m.s,{wrapperStyle:{paddingTop:10,paddingBottom:10,display:"flex",justifyContent:"center",flexWrap:"wrap",width:"100%"}}),(0,l.jsx)(j.y,{dataKey:"daTaiApp",fill:"#b39ddb",name:"Đ\xe3 tải app",label:{position:"top"},isAnimationActive:!1}),(0,l.jsx)(j.y,{dataKey:"chuaTaiApp",fill:"#ff7f7f",name:"Chưa tải app",label:{position:"top"},isAnimationActive:!1})]})})})]}),(0,l.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 lg:gap-2",children:[(0,l.jsxs)("div",{className:"w-full lg:w-1/2 bg-white rounded-xl shadow-lg mt-4 lg:mt-5",children:[(0,l.jsx)("div",{className:"text-lg lg:text-xl font-medium text-gray-700 text-center pt-6 lg:pt-10",children:"Tỷ lệ tải app"}),(0,l.jsx)("div",{className:"flex justify-center items-center py-4 lg:py-8",children:(0,l.jsx)(i.u,{width:"100%",height:300,children:(0,l.jsxs)(u.r,{children:[(0,l.jsx)(p.F,{data:eC,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:"30%",outerRadius:"60%",label:e=>{let{percent:t}=e;return t&&t>.05?"".concat((100*t).toFixed(0),"%"):""},labelLine:!1,children:eC.map((e,t)=>(0,l.jsx)(f.f,{fill:en[t%en.length]},e.name))}),(0,l.jsx)(x.m,{}),(0,l.jsx)(m.s,{wrapperStyle:{paddingTop:10,paddingBottom:10,display:"flex",justifyContent:"center",flexWrap:"wrap",width:"100%",fontSize:"11px"},layout:"horizontal",verticalAlign:"bottom",align:"center"})]})})})]}),(0,l.jsxs)("div",{className:"w-full lg:w-1/2 bg-white rounded-xl shadow-lg mt-4 lg:mt-5",children:[(0,l.jsx)("div",{className:"text-lg lg:text-xl font-medium text-gray-700 text-center pt-6 lg:pt-10",children:"Tỉ lệ kh\xe1ch mới/cũ"}),(0,l.jsx)("div",{className:"flex justify-center items-center py-4 lg:py-8",children:(0,l.jsx)(i.u,{width:"100%",height:300,children:(0,l.jsxs)(u.r,{children:[(0,l.jsx)(p.F,{data:eF,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:"30%",outerRadius:"60%",label:e=>{let{percent:t}=e;return t&&t>.05?"".concat((100*t).toFixed(0),"%"):""},labelLine:!1,children:eF.map((e,t)=>(0,l.jsx)(f.f,{fill:es[t%es.length]},e.name))}),(0,l.jsx)(x.m,{}),(0,l.jsx)(m.s,{wrapperStyle:{paddingTop:10,paddingBottom:10,display:"flex",justifyContent:"center",flexWrap:"wrap",width:"100%"}})]})})})]})]}),(0,l.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-lg mt-4 lg:mt-5",children:[(0,l.jsx)("div",{className:"text-lg lg:text-xl font-medium text-gray-700 text-center pt-6 lg:pt-10",children:"Tỉ lệ đơn mua thẻ/ sản phẩm/ dịch vụ (kh\xe1ch mới)"}),(0,l.jsx)("div",{className:"flex justify-center items-center 18 lg:py-8",children:(0,l.jsx)(i.u,{width:"100%",height:300,children:(0,l.jsxs)(u.r,{children:[(0,l.jsx)(p.F,{data:[{name:"Normal payment",value:eh,color:"#ff6900"},{name:"Foxie Card Purchase",value:ex,color:"#cf2e2e"},{name:"Products Purchase payment",value:em,color:"#00d084"}],dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:"30%",outerRadius:"40%",cornerRadius:10,paddingAngle:5,label:e=>{let{percent:t}=e;return"".concat(t?(100*t).toFixed(0):0,"%")},children:er.map((e,t)=>(0,l.jsx)(f.f,{fill:eb[t%eb.length]},e.name))}),(0,l.jsx)(x.m,{}),(0,l.jsx)(m.s,{wrapperStyle:{paddingTop:10,paddingBottom:10,display:"flex",justifyContent:"center",flexWrap:"wrap",width:"100%",fontSize:"12px"}})]})})})]}),(0,l.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-lg mt-2",children:[(0,l.jsx)("div",{className:"text-lg lg:text-xl font-medium text-gray-700 text-center pt-6 lg:pt-10",children:"Tỉ lệ đơn mua thẻ/ sản phẩm/ dịch vụ (kh\xe1ch cũ)"}),(0,l.jsx)("div",{className:"flex justify-center items-center py-4 lg:py-8",children:(0,l.jsx)(i.u,{width:"100%",height:300,children:(0,l.jsxs)(u.r,{children:[(0,l.jsx)(p.F,{data:[{name:"Normal payment",value:eu,color:"#9ee347"},{name:"Foxie Card Purchase",value:ep,color:"#5bd1d7"},{name:"Products Purchase payment",value:ef,color:"#f0bf4c"}],dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:"30%",outerRadius:"40%",cornerRadius:10,paddingAngle:5,label:e=>{let{percent:t}=e;return"".concat(t?(100*t).toFixed(0):0,"%")},children:er.map((e,t)=>(0,l.jsx)(f.f,{fill:es[t%es.length]},e.name))}),(0,l.jsx)(x.m,{}),(0,l.jsx)(m.s,{wrapperStyle:{fontSize:"12px"}})]})})})]})]})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[897,683,687,441,684,358],()=>t(50660)),_N_E=e.O()}]);