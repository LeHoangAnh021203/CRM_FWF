(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[763],{36201:(e,t,a)=>{Promise.resolve().then(a.bind(a,91225))},91225:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var n=a(95155),l=a(12115),o=a(68931),i=a(90560),r=a(83540),c=a(3401),s=a(94754),d=a(96025),u=a(52071),g=a(27086),h=a(64683),x=a(56690),m=a(90170),p=a(18357),N=a(54811);let b=[{key:"Kh\xe1ch h\xe0ng Th\xe0nh vi\xean",label:"Combo"},{key:"KH trải nghiệm",label:"Dịch vụ"},{key:"Added on",label:"Added on"},{key:"Qu\xe0 tặng",label:"Gifts"},{key:"Fox card",label:"Fox card"}],f=["Nam","Nữ","#N/A"];function y(){let[e,t]=(0,l.useState)((0,o.Ec)((0,o.Xj)()).subtract({days:7})),[a,y]=(0,l.useState)((0,o.Ec)((0,o.Xj)())),[T,w]=(0,l.useState)([]),[C,v]=(0,l.useState)([]),[j,D]=(0,l.useState)(!1),[V,G]=(0,l.useState)(!1),[L,S]=(0,l.useState)(""),[M,B]=(0,l.useState)(""),H=(0,l.useRef)(null),A=(0,l.useRef)(null),E=l.useMemo(()=>["Crescent Mall Q7","Vincom Thảo Điền","Vista Verde","Aeon Mall T\xe2n Ph\xfa Celadon","Westpoint Phạm H\xf9ng","Aeon Mall B\xecnh T\xe2n","Vincom Phan Văn Trị","Vincom Landmark 81","TTTM Estella Place","V\xf5 Thị S\xe1u Q.1","The Sun Avenue","Trương Định Q.3","Hoa Lan Q.PN","Nowzone Q.1","Everrich Infinity Q.5","SC VivoCity","Đảo Ngọc Ngũ X\xe3 HN","Vincom L\xea Văn Việt","The Bonatica Q.TB","Midtown Q.7","Trần Ph\xfa Đ\xe0 Nẵng","Vincom Quang Trung","Vincom B\xe0 Triệu","Imperia Sky Garden HN","Gold Coast Nha Trang","Riviera Point Q7","Saigon Ofice","Millenium Apartment Q.4","Parc Mall Q.8","Saigon Mia Trung Sơn"],[]),k={"Crescent Mall Q7":"HCM","Vincom Thảo Điền":"HCM","Vista Verde":"HCM","Aeon Mall T\xe2n Ph\xfa Celadon":"HCM","Westpoint Phạm H\xf9ng":"HCM","Aeon Mall B\xecnh T\xe2n":"HCM","Vincom Phan Văn Trị":"HCM","Vincom Landmark 81":"HCM","TTTM Estella Place":"HCM","V\xf5 Thị S\xe1u Q.1":"HCM","The Sun Avenue":"HCM","Trương Định Q.3":"HCM","Hoa Lan Q.PN":"HCM","Nowzone Q.1":"HCM","Everrich Infinity Q.5":"HCM","SC VivoCity":"HCM","Vincom L\xea Văn Việt":"HCM","The Bonatica Q.TB":"HCM","Midtown Q.7":"HCM","Riviera Point Q7":"HCM","Saigon Ofice":"HCM","Millenium Apartment Q.4":"HCM","Parc Mall Q.8":"HCM","Saigon Mia Trung Sơn":"HCM","Đảo Ngọc Ngũ X\xe3 HN":"H\xe0 Nội","Imperia Sky Garden HN":"H\xe0 Nội","Vincom B\xe0 Triệu":"H\xe0 Nội","Gold Coast Nha Trang":"Nha Trang","Trần Ph\xfa Đ\xe0 Nẵng":"Đ\xe0 Nẵng","Vincom Quang Trung":"HCM"},F=[...Array.from({length:30},(e,t)=>{let a="".concat(t+1," thg 6"),n=["Crescent Mall Q7","Vincom Thảo Điền","Vista Verde","Aeon Mall T\xe2n Ph\xfa Celadon","Westpoint Phạm H\xf9ng","Aeon Mall B\xecnh T\xe2n","Vincom Phan Văn Trị","Vincom Landmark 81","TTTM Estella Place","V\xf5 Thị S\xe1u Q.1","The Sun Avenue","Trương Định Q.3","Hoa Lan Q.PN","Nowzone Q.1","Everrich Infinity Q.5","SC VivoCity","Đảo Ngọc Ngũ X\xe3 HN","Vincom L\xea Văn Việt","The Bonatica Q.TB","Midtown Q.7","Trần Ph\xfa Đ\xe0 Nẵng","Vincom Quang Trung","Vincom B\xe0 Triệu","Imperia Sky Garden HN","Gold Coast Nha Trang","Riviera Point Q7","Saigon Ofice","Millenium Apartment Q.4","Parc Mall Q.8","Saigon Mia Trung Sơn"];return[{date:a,value:12e5+t%5*2e4+1e3*t,value2:1e6+t%3*15e3+800*t,type:"KH trải nghiệm",status:"New",gender:"Nam",region:k[n[t%n.length]],branch:n[t%n.length]},{date:a,value:125e4+t%4*18e3+1200*t,value2:105e4+t%2*17e3+900*t,type:"KH trải nghiệm",status:"New",gender:"Nữ",region:k[n[(t+1)%n.length]],branch:n[(t+1)%n.length]},{date:a,value:13e5+t%6*22e3+1100*t,value2:11e5+t%4*13e3+700*t,type:"Kh\xe1ch h\xe0ng Th\xe0nh vi\xean",status:"New",gender:"Nam",region:k[n[(t+2)%n.length]],branch:n[(t+2)%n.length]},{date:a,value:135e4+t%3*25e3+900*t,value2:115e4+t%5*12e3+600*t,type:"Kh\xe1ch h\xe0ng Th\xe0nh vi\xean",status:"New",gender:"Nữ",region:k[n[(t+3)%n.length]],branch:n[(t+3)%n.length]}]}).flat()],O=[{date:"9 thg 6, 2025",HCM:100,HaNoi:90,DaNang:80,NhaTrang:70,DaDongCua:60,type:"Tổng",status:"All"},{date:"8 thg 6, 2025",HCM:100,HaNoi:90,DaNang:80,NhaTrang:70,DaDongCua:60,type:"Tổng",status:"All"},{date:"7 thg 6, 2025",HCM:100,HaNoi:90,DaNang:80,NhaTrang:70,DaDongCua:60,type:"Tổng",status:"All"},{date:"6 thg 6, 2025",HCM:100,HaNoi:90,DaNang:80,NhaTrang:70,DaDongCua:60,type:"Tổng",status:"All"},{date:"5 thg 6, 2025",HCM:100,HaNoi:90,DaNang:80,NhaTrang:70,DaDongCua:60,type:"Tổng",status:"All"},{date:"4 thg 6, 2025",HCM:100,HaNoi:90,DaNang:80,NhaTrang:70,DaDongCua:60,type:"Tổng",status:"All"},{date:"3 thg 6, 2025",HCM:100,HaNoi:90,DaNang:80,NhaTrang:70,DaDongCua:60,type:"Tổng",status:"All"},{date:"1 thg 6, 2025",HCM:100,HaNoi:90,DaNang:80,NhaTrang:70,DaDongCua:60,type:"Tổng",status:"All"},{date:"2 thg 6, 2025",HCM:100,HaNoi:90,DaNang:80,NhaTrang:70,DaDongCua:60,type:"Tổng",status:"All"}];function I(e,t,a){let n=function(e){let t=e.match(/^(\d{1,2}) thg (\d{1,2}), (\d{4})$/);if(t){let[,e,a,n]=t;return(0,i._U)("".concat(n,"-").concat(a.padStart(2,"0"),"-").concat(e.padStart(2,"0")))}if(t=e.match(/^(\d{1,2}) thg (\d{1,2})$/)){let[,e,a]=t,n=String(new Date().getFullYear());return(0,i._U)("".concat(n,"-").concat(a.padStart(2,"0"),"-").concat(e.padStart(2,"0")))}throw Error("Invalid date format: "+e)}(e.date);return n.compare(t)>=0&&0>=n.compare(a)}let K=e.subtract({days:7}),Q=e.subtract({days:1}),P=z(O,C,T),R=z(O,C,T),U=["HCM","H\xe0 Nội","Đ\xe0 Nẵng","Nha Trang","Đ\xe3 Đ\xf3ng Cửa","Kh\xe1c"].map(t=>{let n=F.filter(n=>n.region===t&&I(n,e,a)).length,l=F.filter(e=>e.region===t&&I(e,K,Q)).length,o=function(e){switch(e){case"HCM":default:return"HCM";case"H\xe0 Nội":return"HaNoi";case"Đ\xe0 Nẵng":return"DaNang";case"Nha Trang":return"NhaTrang";case"Đ\xe3 Đ\xf3ng Cửa":return"DaDongCua";case"Kh\xe1c":return"Khac"}}(t),i=P.reduce((e,t)=>{var a;return e+Number(null!=(a=t[o])?a:0)},0),r=R.reduce((e,t)=>{var a;return e+Number(null!=(a=t[o])?a:0)},0);return{region:t,ordersThisWeek:n,deltaOrders:n-l,revenueThisWeek:i,percentDelta:0===r?null:(i-r)/r*100,revenueLastWeek:r}});function Y(e){let{title:t,value:a,delta:l,className:o,valueColor:i}=e,r=null!==l&&l>0,c=null!==l&&l<0;return(0,n.jsxs)("div",{className:"bg-white rounded-xl shadow p-6 flex flex-col items-center min-w-[220px] border-4 ".concat(null!=o?o:"border-gray-200"),children:[(0,n.jsx)("div",{className:"text-sm text-gray-700 mb-1 text-center",children:t}),(0,n.jsx)("div",{className:"text-4xl font-bold mb-1 text-center ".concat(null!=i?i:"text-black"),children:a.toLocaleString()}),(0,n.jsxs)("div",{className:"text-lg font-semibold flex items-center gap-1 ".concat(r?"text-green-600":c?"text-red-500":"text-gray-500"),children:[r&&(0,n.jsx)("span",{children:"↑"}),c&&(0,n.jsx)("span",{children:"↓"}),null===l?"N/A":Math.abs(l).toLocaleString()]})]})}function z(e,t,a){return e.filter(e=>{let n=!t||0===t.length||!e.region||t.includes(e.region),l=!a||0===a.length||!e.branch||a.includes(e.branch);return n&&l})}let[W,_]=(0,l.useState)(!1),[X,$]=(0,l.useState)(!1),[q,J]=(0,l.useState)(""),[Z,ee]=(0,l.useState)(""),et=(0,l.useRef)(null),ea=(0,l.useRef)(null);(0,l.useEffect)(()=>{function e(e){et.current&&!et.current.contains(e.target)&&_(!1),ea.current&&!ea.current.contains(e.target)&&$(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let en=b.filter(e=>e.label.toLowerCase().includes(q.toLowerCase())),el=f.filter(e=>e.toLowerCase().includes(Z.toLowerCase())),eo=U.map(e=>({name:e.region,total:Object.values(k).filter(t=>t===e.region).length})),ei=l.useMemo(()=>eo.filter(e=>e.name.toLowerCase().includes(L.toLowerCase())),[eo,L]),er={};E.forEach(t=>{er[t]=F.filter(n=>n.branch===t&&I(n,e,a)).reduce((e,t)=>e+t.value,0)});let ec={};F.forEach(e=>{"Kh\xe1ch h\xe0ng Th\xe0nh vi\xean"!==e.type&&(ec[e.date]||(ec[e.date]={count:0,avgPerShop:0}),ec[e.date].count++)}),Object.keys(ec).forEach(e=>{let t=new Set(F.filter(t=>t.date===e&&"Kh\xe1ch h\xe0ng Th\xe0nh vi\xean"!==t.type).map(e=>e.branch));ec[e].avgPerShop=t.size>0?Math.round(ec[e].count/t.size):0});let es=Object.entries(ec).sort((e,t)=>{let[a,n]=e[0].split(" thg "),[l,o]=t[0].split(" thg ");return Number(n)!==Number(o)?Number(n)-Number(o):Number(a)-Number(l)}),ed=[240,173,201,281,269,167,166,131,228,247,380,403,217,193,210,236,244,367,411,271,256,288,291,358,398,309,191,49,17,31,67];es.forEach((e,t)=>{let[,a]=e;a.count=ed[t%ed.length],a.avgPerShop=5+Math.floor(11*Math.random())});let eu=[],eg=e;for(;0>=eg.compare(a);)eu.push(eg),eg=eg.add({days:1});let eh=eu.map(e=>{let t="".concat(e.day," thg ").concat(e.month),a=F.filter(e=>"Kh\xe1ch h\xe0ng Th\xe0nh vi\xean"===e.type&&e.date===t).length,n=F.filter(e=>"KH trải nghiệm"===e.type&&e.date===t).length,l=F.filter(e=>"Added on"===e.type&&e.date===t).length,o=Math.round(.218*(a+n+l));return{date:t,combo:a,service:n,addedon:l,foxcard:o}}),ex=F.filter(t=>"Kh\xe1ch h\xe0ng Th\xe0nh vi\xean"===t.type&&I(t,e,a)).length,em=F.filter(e=>"Kh\xe1ch h\xe0ng Th\xe0nh vi\xean"===e.type&&I(e,K,Q)).length,ep=F.filter(t=>"KH trải nghiệm"===t.type&&I(t,e,a)).length,eN=F.filter(e=>"KH trải nghiệm"===e.type&&I(e,K,Q)).length,eb=ex+ep,[ef,ey]=(0,l.useState)(["Kh\xe1ch h\xe0ng Th\xe0nh vi\xean","KH trải nghiệm","Added on","Qu\xe0 tặng"]),[eT,ew]=(0,l.useState)(["Nam","Nữ","#N/A"]);F.some(e=>"Added on"===e.type)||F.push({date:"".concat(e.day," thg ").concat(e.month),value:1e6,value2:5e5,type:"Added on",status:"New",gender:"Nam",region:"HCM",branch:"Crescent Mall Q7"}),F.some(e=>"Qu\xe0 tặng"===e.type)||F.push({date:"".concat(e.day," thg ").concat(e.month),value:8e5,value2:3e5,type:"Qu\xe0 tặng",status:"New",gender:"#N/A",region:"HCM",branch:"Vincom Landmark 81"}),F.some(e=>"#N/A"===e.gender)||F.push({date:"".concat(e.day," thg ").concat(e.month),value:12e5,value2:6e5,type:"KH trải nghiệm",status:"New",gender:"#N/A",region:"HCM",branch:"Vista Verde"});let eC=E.map(t=>{let n=F.filter(n=>n.branch===t&&I(n,e,a)&&ef.includes(n.type)&&eT.includes(n.gender)),l=n.filter(e=>"Kh\xe1ch h\xe0ng Th\xe0nh vi\xean"===e.type).length,o=n.filter(e=>"KH trải nghiệm"===e.type).length,i=n.filter(e=>"Added on"===e.type).length,r=n.filter(e=>"Qu\xe0 tặng"===e.type).length,c=l+o+i+r;return{store:t,combo:l,service:o,addedon:i,gifts:r,foxcard:Math.round(.218*c),total:c}}).sort((e,t)=>t.total-e.total),ev=f.map(t=>{let n=F.filter(n=>n.gender===t&&I(n,e,a)&&ef.includes(n.type)).reduce((e,t)=>e+t.value,0);return{gender:t,total:n}}),ej=F.filter(t=>I(t,e,a)&&(0===C.length||!t.region||C.includes(t.region))&&(0===T.length||!t.branch||T.includes(t.branch))&&ef.includes(t.type)&&eT.includes(t.gender)),eD=[{key:"combo",label:"Combo",value:ej.filter(e=>"Kh\xe1ch h\xe0ng Th\xe0nh vi\xean"===e.type).length,color:"#795548"},{key:"service",label:"Dịch vụ",value:ej.filter(e=>"KH trải nghiệm"===e.type).length,color:"#c5e1a5"},{key:"addedon",label:"Added on",value:ej.filter(e=>"Added on"===e.type).length,color:"#f16a3f"},{key:"gifts",label:"Gifts",value:ej.filter(e=>"Qu\xe0 tặng"===e.type).length,color:"#8fd1fc"}],eV=Math.round(.218*eD.reduce((e,t)=>e+t.value,0)),eG=[...eD,{key:"foxcard",label:"Fox card",value:eV,color:"#b26e7a"}],eL=F.filter(t=>I(t,e,a)&&(0===C.length||!t.region||C.includes(t.region))&&(0===T.length||!t.branch||T.includes(t.branch))&&ef.includes(t.type)&&eT.includes(t.gender)),eS=new Map;eL.forEach(e=>{let t=e.serviceName||e.type;eS.set(t,(eS.get(t)||0)+1)});let eM=Array.from(eS.entries()).sort((e,t)=>t[1]-e[1]),eB=eM.slice(0,10),eH=eM.slice(10).reduce((e,t)=>{let[,a]=t;return e+a},0),eA=eB.map((e,t)=>{let[a,n]=e;return{name:a,value:n,color:"hsl(0,0%,".concat(40+5*t,"%)")}});eH>0&&eA.push({name:"Kh\xe1c",value:eH,color:"#ededed"});let eE=new Map;eL.forEach(e=>{let t=e.serviceName||e.type;eE.has(t)||eE.set(t,{totalValue:0,count:0});let a=eE.get(t);a.totalValue+=e.value,a.count+=1});let ek=Array.from(eE.entries()).map(e=>{let[t,{totalValue:a,count:n}]=e;return{name:t,avg:n>0?a/n:0,count:n}}).sort((e,t)=>t.avg-e.avg),eF=ek.slice(0,10),eO=ek.slice(10).reduce((e,t)=>e+t.avg,0),eI=eF.map((e,t)=>({name:e.name,value:e.avg,color:"hsl(30, 100%, ".concat(45+5*t,"%)")}));ek.length>10&&eI.push({name:"Kh\xe1c",value:eO,color:"#ffe0b2"});let eK=[{tenDichVu:"QU\xc0 TẶNG DV K\xc8M THẺ TIỀN",loaiDichVu:"Qu\xe0 tặng",soLuong:1,tongGia:1e6,giaBuoiTB:1e6,percentSoLuong:2.63,percentTongGia:2.63},{tenDichVu:"COMBO 7: DEEP CLEAN ACNE-CARE L\xc0M SẠCH S\xc2U V\xc0 CHĂM S\xd3C DA MỤN",loaiDichVu:"Fox card",soLuong:1,tongGia:12e5,giaBuoiTB:12e5,percentSoLuong:2.63,percentTongGia:3.16},{tenDichVu:"DV 4: LUMIGLOW CLEANSE - L\xc0M S\xc1NG V\xc0 ĐỀU M\xc0U DA, NGĂN NGỪA L\xc3O H\xd3A",loaiDichVu:"Dịch vụ",soLuong:1,tongGia:9e5,giaBuoiTB:9e5,percentSoLuong:2.63,percentTongGia:2.37},{tenDichVu:"DV 6: EYE-REVIVE CLEANSE - CHĂM S\xd3C DA MẮT, N\xc2NG CƠ V\xc0 GIẢM QUẦNG TH\xc2M",loaiDichVu:"Dịch vụ",soLuong:1,tongGia:95e4,giaBuoiTB:95e4,percentSoLuong:2.63,percentTongGia:2.5},{tenDichVu:"QU\xc0 TẶNG DV K\xc8M THẺ TIỀN",loaiDichVu:"Qu\xe0 tặng",soLuong:1,tongGia:1e6,giaBuoiTB:1e6,percentSoLuong:2.63,percentTongGia:2.63},{tenDichVu:"DV 5: GYMMING CLEANSE - L\xc0M SĂN CHẮC, TĂNG ĐỘ Đ\xc0N HỒI DA",loaiDichVu:"Dịch vụ",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"DV 2: DEEP CLEANSE - L\xc0M SẠCH S\xc2U THU NHỎ CH\xc2N L\xd4NG V\xc0 TĂNG ĐỘ ẨM",loaiDichVu:"Dịch vụ",soLuong:1,tongGia:105e4,giaBuoiTB:105e4,percentSoLuong:2.63,percentTongGia:2.76},{tenDichVu:"DV 1: AQUA PEEL CLEANSE - RỬA MẶT C\xd4NG NGHỆ 5 BƯỚC HYDRATION",loaiDichVu:"Dịch vụ",soLuong:1,tongGia:85e4,giaBuoiTB:85e4,percentSoLuong:2.63,percentTongGia:2.25},{tenDichVu:"DV 3: CRYO CLEANSE - CẤP ẨM, CĂNG B\xd3NG DA TR\xc0N ĐẦY SỨC SỐNG",loaiDichVu:"Dịch vụ",soLuong:1,tongGia:98e4,giaBuoiTB:98e4,percentSoLuong:2.63,percentTongGia:2.58},{tenDichVu:"COMBO CS 2: MESO BRIGTENING - S\xc1NG DA MỊN M\xc0NG KH\xd4NG T\xcc VẾT",loaiDichVu:"Combo",soLuong:1,tongGia:13e5,giaBuoiTB:13e5,percentSoLuong:2.63,percentTongGia:3.42},{tenDichVu:"COMBO 6: LUMIGLOW CLEANSE CRYO GYMMING - S\xc1NG DA, CẤP ẨM, SĂN CHẮC",loaiDichVu:"Combo",soLuong:1,tongGia:14e5,giaBuoiTB:14e5,percentSoLuong:2.63,percentTongGia:3.68},{tenDichVu:"COMBO 13: ANTI-AGING & HYDRATE SKINCARE - CHỐNG L\xc3O H\xd3A, CẤP ẨM",loaiDichVu:"Combo",soLuong:1,tongGia:135e4,giaBuoiTB:135e4,percentSoLuong:2.63,percentTongGia:3.55},{tenDichVu:"COMBO 4: LUMIGLOW CLEANSE GYMMING EYE-REVIVE - S\xc1NG DA, SĂN CHẮC, CHĂM S\xd3C MẮT",loaiDichVu:"Combo",soLuong:1,tongGia:125e4,giaBuoiTB:125e4,percentSoLuong:2.63,percentTongGia:3.29},{tenDichVu:"COMBO CS 5: HỒI SINH VẺ ĐẸP TỰ NHI\xcaN",loaiDichVu:"Combo",soLuong:1,tongGia:12e5,giaBuoiTB:12e5,percentSoLuong:2.63,percentTongGia:3.16},{tenDichVu:"COMBO 8: SOOTHING FOR SENSITIVE SKIN - L\xc0M DỊU & CHĂM S\xd3C DA NHẠY CẢM",loaiDichVu:"Combo",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"COMBO 5: GYMMING CLEANSE CRYO EYE-REVIVE - CHĂM S\xd3C DA, SĂN CHẮC, CẤP ẨM, CHĂM S\xd3C MẮT",loaiDichVu:"Combo",soLuong:1,tongGia:115e4,giaBuoiTB:115e4,percentSoLuong:2.63,percentTongGia:3.03},{tenDichVu:"COMBO 3: GYMMING CLEANSE CRYO - CẤP ẨM CĂNG B\xd3NG, SĂN CHẮC DA",loaiDichVu:"Combo",soLuong:1,tongGia:112e4,giaBuoiTB:112e4,percentSoLuong:2.63,percentTongGia:2.95},{tenDichVu:"COMBO 7: MESO TẾ B\xc0O GỐC DNA C\xc1 HỒI",loaiDichVu:"Combo",soLuong:1,tongGia:145e4,giaBuoiTB:145e4,percentSoLuong:2.63,percentTongGia:3.82},{tenDichVu:"COMBO CS 5: REVIVE NATURAL BEAUTY - HỒI SINH VẺ ĐẸP TỰ NHI\xcaN",loaiDichVu:"Combo",soLuong:1,tongGia:12e5,giaBuoiTB:12e5,percentSoLuong:2.63,percentTongGia:3.16},{tenDichVu:"COMBO 10: BURNT SKIN FULL FACE - PHỤC HỒI DA CH\xc1Y NẮNG CẢ KHU\xd4N MẶT",loaiDichVu:"Combo",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"COMBO 1: DEEP CLEANSE CRYO - L\xc0M SẠCH S\xc2U V\xc0 CẤP ẨM CHO DA",loaiDichVu:"Combo",soLuong:1,tongGia:13e5,giaBuoiTB:13e5,percentSoLuong:2.63,percentTongGia:3.42},{tenDichVu:"COMBO CS 4: SHINE WITH YOUR OWN LIGHT - RẠNG NGỜI CHẤT RI\xcaNG",loaiDichVu:"Combo",soLuong:1,tongGia:125e4,giaBuoiTB:125e4,percentSoLuong:2.63,percentTongGia:3.29},{tenDichVu:"CT 1: ADDED CRYO - CỘNG TH\xcaM CẤP ẨM",loaiDichVu:"Cộng th\xeam",soLuong:1,tongGia:8e5,giaBuoiTB:8e5,percentSoLuong:2.63,percentTongGia:2.11},{tenDichVu:"CT 4: ADDED EYE-REVIVE - CỘNG TH\xcaM CHĂM S\xd3C MẮT",loaiDichVu:"Cộng th\xeam",soLuong:1,tongGia:85e4,giaBuoiTB:85e4,percentSoLuong:2.63,percentTongGia:2.25},{tenDichVu:"CT 2: ADDED LUMIGLOW - CỘNG TH\xcaM S\xc1NG DA",loaiDichVu:"Cộng th\xeam",soLuong:1,tongGia:9e5,giaBuoiTB:9e5,percentSoLuong:2.63,percentTongGia:2.37},{tenDichVu:"CT 6: ADDED GOODBYE ACNE - CỘNG TH\xcaM CHĂM S\xd3C MỤN",loaiDichVu:"Cộng th\xeam",soLuong:1,tongGia:95e4,giaBuoiTB:95e4,percentSoLuong:2.63,percentTongGia:2.5},{tenDichVu:"CT 3: ADDED GYMMING - CỘNG TH\xcaM SĂN CHẮC DA",loaiDichVu:"Cộng th\xeam",soLuong:1,tongGia:87e4,giaBuoiTB:87e4,percentSoLuong:2.63,percentTongGia:2.29},{tenDichVu:"CT 5: ADDED NECK CARE - CỘNG TH\xcaM CHĂM S\xd3C V\xd9NG CỔ",loaiDichVu:"Cộng th\xeam",soLuong:1,tongGia:88e4,giaBuoiTB:88e4,percentSoLuong:2.63,percentTongGia:2.32},{tenDichVu:"QU\xc0 TẶNG",loaiDichVu:"Qu\xe0 tặng",soLuong:1,tongGia:1e6,giaBuoiTB:1e6,percentSoLuong:2.63,percentTongGia:2.63},{tenDichVu:"QU\xc0 TẶNG DV K\xc8M THẺ TIỀN",loaiDichVu:"Qu\xe0 tặng",soLuong:1,tongGia:1e6,giaBuoiTB:1e6,percentSoLuong:2.63,percentTongGia:2.63},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89},{tenDichVu:"Fox card",loaiDichVu:"Fox card",soLuong:1,tongGia:11e5,giaBuoiTB:11e5,percentSoLuong:2.63,percentTongGia:2.89}],eQ=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:640,[t,a]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{let t=()=>a(window.innerWidth<e);return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[e]),t}(),eP=e=>{var t;let{percent:a,x:l,y:o,index:i}=e;return eQ&&void 0!==a&&a<.15||void 0!==a&&a<.05?null:(0,n.jsxs)("text",{x:l,y:o,fill:(null==(t=eA[null!=i?i:0])?void 0:t.color)||"#333",fontSize:eQ?10:14,fontWeight:"bold",textAnchor:"middle",dominantBaseline:"central",children:[(100*a).toFixed(1),"%"]})},eR=(()=>{let e=new Map;eL.forEach(t=>{let a=t.serviceName||t.type;e.set(a,(e.get(a)||0)+1)});let t=Array.from(e.entries()).sort((e,t)=>e[1]-t[1]).slice(0,3),a=["#bdbdbd","#9e9e9e","#e0e0e0"];return t.map((e,t)=>{let[n,l]=e;return{name:n,value:l,color:a[t%a.length]}})})();return(0,n.jsx)("div",{className:"p-2 sm:p-4 md:p-6",children:(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsxs)("div",{className:" p-2",children:[(0,n.jsx)("h1",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Services Report"}),(0,n.jsxs)("div",{className:"w-full flex flex-col gap-4 md:flex-row md:gap-10",children:[(0,n.jsxs)("div",{className:"w-full max-w-xl flex flex-col gap-4 md:flex-row md:gap-4 bg-white p-2 rounded",children:[(0,n.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,n.jsx)("h3",{children:"Start date"}),(0,n.jsx)("input",{type:"date",className:"border rounded p-2 bg-white",value:e.toString(),onChange:e=>{t((0,i._U)(e.target.value))},max:(0,o.Ec)((0,o.Xj)()).toString()})]}),(0,n.jsxs)("div",{className:"w-full flex flex-col gap-1",children:[(0,n.jsx)("h3",{children:"End date"}),(0,n.jsx)("input",{type:"date",className:"border rounded p-2 bg-white",value:a.toString(),onChange:e=>{y((0,i._U)(e.target.value))},min:e.add({days:1}).toString(),max:(0,o.Ec)((0,o.Xj)()).toString()})]})]}),(0,n.jsx)("div",{className:"w-full flex flex-col gap-2",children:(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:flex-wrap gap-2 w-full",children:[(0,n.jsxs)("div",{className:"relative w-fulll sm:flex-wrap gap-2 w-full",ref:H,children:[(0,n.jsxs)("button",{className:"bg-yellow-300 px-3 py-2 rounded-lg font-bold flex items-center gap-2 w-full sm:w-auto border-b-2 border-yellow-400",onClick:()=>D(e=>!e),type:"button",children:[(0,n.jsx)("span",{className:"material-icons"})," Region"]}),j&&(0,n.jsxs)("div",{className:"absolute z-20 bg-white shadow-xl rounded-b-lg w-full min-w-[250px] border border-yellow-200",children:[(0,n.jsxs)("div",{className:"bg-yellow-200 px-4 py-2 font-bold flex items-center gap-2 border-b border-yellow-300",children:[(0,n.jsx)("input",{type:"checkbox",checked:C.length===eo.length,onChange:()=>v(C.length===eo.length?[]:eo.map(e=>e.name)),className:"accent-yellow-400"}),"Region",(0,n.jsx)("span",{className:"ml-auto",children:"Branches "})]}),(0,n.jsx)("div",{className:"px-2 py-2 border-b",children:(0,n.jsx)("input",{className:"w-full border rounded px-2 py-1",placeholder:"Nhập để t\xecm kiếm",value:L,onChange:e=>S(e.target.value)})}),(0,n.jsx)("div",{className:"max-h-60 overflow-y-auto",children:ei.map(e=>(0,n.jsxs)("label",{className:"flex items-center gap-2 px-4 py-2 hover:bg-yellow-50 cursor-pointer border-b last:border-b-0",children:[(0,n.jsx)("input",{type:"checkbox",checked:C.includes(e.name),onChange:()=>{v(t=>t.includes(e.name)?t.filter(t=>t!==e.name):[...t,e.name])},className:"accent-yellow-400"}),(0,n.jsx)("span",{className:"font-medium",children:e.name}),(0,n.jsx)("span",{className:"ml-auto text-right min-w-[70px] font-semibold",children:e.total})]},e.name))})]})]}),(0,n.jsxs)("div",{className:"relative w-full sm:w-auto",ref:A,children:[(0,n.jsxs)("button",{className:"bg-yellow-300 px-3 py-2 rounded-lg font-bold flex items-center gap-2 w-full sm:w-auto border-b-2 border-yellow-400",onClick:()=>G(e=>!e),type:"button",children:[(0,n.jsx)("span",{className:"material-icons"})," Locations"]}),V&&(0,n.jsxs)("div",{className:"absolute z-20 bg-white shadow-xl rounded-b-lg w-full min-w-[220px] border border-yellow-200",children:[(0,n.jsxs)("div",{className:"bg-yellow-100 px-4 py-2 font-bold flex items-center gap-2 border-b border-yellow-200",children:[(0,n.jsx)("input",{type:"checkbox",checked:T.length===E.length,onChange:()=>w(T.length===E.length?[]:[...E]),className:"accent-yellow-400"}),"Locations"]}),(0,n.jsx)("div",{className:"px-2 py-2 border-b",children:(0,n.jsx)("input",{className:"w-full border rounded px-2 py-1",placeholder:"Nhập để t\xecm kiếm",value:M,onChange:e=>B(e.target.value)})}),(0,n.jsx)("div",{className:"max-h-60 overflow-y-auto",children:E.filter(e=>e.toLowerCase().includes(M.toLowerCase())).map(e=>(0,n.jsxs)("label",{className:"flex items-center gap-2 px-4 py-2 hover:bg-yellow-50 cursor-pointer border-b last:border-b-0",children:[(0,n.jsx)("input",{type:"checkbox",checked:T.includes(e),onChange:()=>{w(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"accent-yellow-400"}),(0,n.jsx)("span",{className:"font-medium",children:e})]},e))})]})]}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,n.jsxs)("div",{className:"relative w-full sm:w-auto",ref:et,children:[(0,n.jsxs)("button",{className:"bg-yellow-300 px-3 py-2 rounded-lg font-bold flex items-center gap-2 w-full sm:w-auto border-b-2 border-yellow-400",onClick:()=>_(e=>!e),type:"button",children:[(0,n.jsx)("span",{className:"material-icons"})," Services"]}),W&&(0,n.jsxs)("div",{className:"absolute z-20 bg-white shadow-xl rounded-b-lg w-full min-w-[180px] border border-yellow-200",children:[(0,n.jsxs)("div",{className:"bg-yellow-200 px-4 py-2 font-bold flex items-center gap-2 border-b border-yellow-300",children:[(0,n.jsx)("input",{type:"checkbox",checked:ef.length===b.length,onChange:()=>ey(ef.length===b.length?[]:b.map(e=>e.key)),className:"accent-yellow-400"}),"Services"]}),(0,n.jsx)("div",{className:"px-2 py-2 border-b",children:(0,n.jsx)("input",{className:"w-full border rounded px-2 py-1",placeholder:"Nhập để t\xecm kiếm",value:q,onChange:e=>J(e.target.value)})}),(0,n.jsx)("div",{className:"max-h-60 overflow-y-auto",children:en.map(e=>(0,n.jsxs)("label",{className:"flex items-center gap-2 px-4 py-2 hover:bg-yellow-50 cursor-pointer border-b last:border-b-0",children:[(0,n.jsx)("input",{type:"checkbox",checked:ef.includes(e.key),onChange:()=>{ey(t=>t.includes(e.key)?t.filter(t=>t!==e.key):[...t,e.key])},className:"accent-yellow-400"}),(0,n.jsx)("span",{className:"font-medium",children:e.label})]},e.key))})]})]}),(0,n.jsxs)("div",{className:"relative w-full sm:w-auto",ref:ea,children:[(0,n.jsxs)("button",{className:"bg-yellow-300 px-3 py-2 rounded-lg font-bold flex items-center gap-2 w-full sm:w-auto border-b-2 border-yellow-400",onClick:()=>$(e=>!e),type:"button",children:[(0,n.jsx)("span",{className:"material-icons"})," Gender"]}),X&&(0,n.jsxs)("div",{className:"absolute z-20 bg-white shadow-xl rounded-b-lg w-full min-w-[120px] border border-yellow-200",children:[(0,n.jsxs)("div",{className:"bg-yellow-200 px-4 py-2 font-bold flex items-center gap-2 border-b border-yellow-300",children:[(0,n.jsx)("input",{type:"checkbox",checked:eT.length===f.length,onChange:()=>ew(eT.length===f.length?[]:[...f]),className:"accent-yellow-400"}),"Gender",(0,n.jsx)("span",{className:"ml-auto",children:"Actual price "})]}),(0,n.jsx)("div",{className:"px-2 py-2 border-b",children:(0,n.jsx)("input",{className:"w-full border rounded px-2 py-1",placeholder:"Nhập để t\xecm kiếm",value:Z,onChange:e=>ee(e.target.value)})}),(0,n.jsx)("div",{className:"max-h-60 overflow-y-auto",children:el.map(e=>{var t;let a=(null==(t=ev.find(t=>t.gender===e))?void 0:t.total)||0;return(0,n.jsxs)("label",{className:"flex items-center gap-2 px-4 py-2 hover:bg-yellow-50 cursor-pointer border-b last:border-b-0 justify-between",children:[(0,n.jsxs)("span",{className:"flex items-center gap-2",children:[(0,n.jsx)("input",{type:"checkbox",checked:eT.includes(e),onChange:()=>{ew(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])},className:"accent-yellow-400"}),(0,n.jsx)("span",{className:"font-medium",children:e})]}),(0,n.jsx)("span",{className:"text-xs text-gray-500 min-w-[60px] text-right",children:a>=1e12?(a/1e12).toFixed(1)+" T":a>=1e9?(a/1e9).toFixed(1)+" T":a>=1e6?(a/1e6).toFixed(1)+" Tr":a.toLocaleString()})]},e)})})]})]})]})]})})]})]}),(0,n.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-lg mt-5 p-4",children:[(0,n.jsx)("div",{className:"text-xl font-medium text-gray-700 text-center mb-4",children:"Tổng dịch vụ thực hiện trong tuần"}),(0,n.jsx)("div",{className:"w-full overflow-x-auto",children:(0,n.jsx)("div",{style:{minWidth:520},children:(0,n.jsx)(r.u,{width:"100%",height:320,children:(0,n.jsxs)(c.E,{data:eh,margin:{top:20,right:10,left:10,bottom:40},children:[(0,n.jsx)(s.d,{strokeDasharray:"3 3"}),(0,n.jsx)(d.W,{dataKey:"date",angle:-30,textAnchor:"end",height:eQ?40:60,tick:{fontSize:eQ?10:14}}),(0,n.jsx)(u.h,{tick:{fontSize:eQ?10:14}}),(0,n.jsx)(g.m,{}),!eQ&&(0,n.jsx)(h.s,{}),(0,n.jsx)(x.y,{dataKey:"combo",name:"Combo",fill:"#795548"}),(0,n.jsx)(x.y,{dataKey:"service",name:"Dịch vụ",fill:"#c5e1a5"}),(0,n.jsx)(x.y,{dataKey:"addedon",name:"Added on",fill:"#f16a3f"}),(0,n.jsx)(x.y,{dataKey:"foxcard",name:"Fox card",fill:"#c86b82"})]})})})}),eQ&&(0,n.jsxs)("div",{className:"flex flex-wrap justify-center gap-2 mt-2 text-xs",children:[(0,n.jsxs)("span",{className:"flex items-center gap-1",children:[(0,n.jsx)("span",{className:"inline-block w-3 h-3 rounded-full",style:{background:"#795548"}}),"Combo"]}),(0,n.jsxs)("span",{className:"flex items-center gap-1",children:[(0,n.jsx)("span",{className:"inline-block w-3 h-3 rounded-full",style:{background:"#c5e1a5"}}),"Dịch vụ"]}),(0,n.jsxs)("span",{className:"flex items-center gap-1",children:[(0,n.jsx)("span",{className:"inline-block w-3 h-3 rounded-full",style:{background:"#f16a3f"}}),"Added on"]}),(0,n.jsxs)("span",{className:"flex items-center gap-1",children:[(0,n.jsx)("span",{className:"inline-block w-3 h-3 rounded-full",style:{background:"#c86b82"}}),"Fox card"]})]})]}),(0,n.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:gap-3",children:[(0,n.jsxs)("div",{className:"w-full sm:w-1/2 bg-white rounded-xl shadow-lg mt-5 p-4",children:[(0,n.jsx)("div",{className:"text-xl font-medium text-gray-700 text-center mb-4",children:"Tỉ lệ dịch vụ/combo/cộng th\xeam"}),(0,n.jsx)(r.u,{width:"100%",height:eQ?180:320,children:(0,n.jsx)(m.r,{children:(0,n.jsx)(p.F,{data:eG,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:eQ?60:120,label:eP,children:eG.map(e=>(0,n.jsx)(N.f,{fill:e.color},e.key))})})}),(0,n.jsx)("ul",{className:"flex flex-wrap justify-center gap-2 mt-2 text-xs",children:eG.map(e=>(0,n.jsxs)("li",{className:"flex items-center gap-1",children:[(0,n.jsx)("span",{className:"inline-block w-3 h-3 rounded-full",style:{background:e.color}}),e.label]},e.key))})]}),(0,n.jsxs)("div",{className:"w-full sm:w-1/2 bg-white rounded-xl shadow-lg mt-5 p-4",children:[(0,n.jsx)("div",{className:"text-xl font-medium text-gray-700 text-center mb-4",children:"Top 10 dịch vụ theo số lượng"}),(0,n.jsx)(r.u,{width:"100%",height:eQ?180:320,children:(0,n.jsx)(m.r,{children:(0,n.jsx)(p.F,{data:eA,dataKey:"value",nameKey:"label",cx:"50%",cy:"50%",outerRadius:eQ?60:120,label:eP,children:eA.map(e=>(0,n.jsx)(N.f,{fill:e.color},e.name))})})}),(0,n.jsx)("ul",{className:"flex flex-wrap justify-center gap-2 mt-2 text-xs",children:eA.map(e=>(0,n.jsxs)("li",{className:"flex items-center gap-1",children:[(0,n.jsx)("span",{className:"inline-block w-3 h-3 rounded-full",style:{background:e.color}}),e.name]},e.name))})]})]}),(0,n.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-lg mt-5 p-4",children:[(0,n.jsx)("div",{className:"text-xl font-medium text-gray-700 text-center mb-4",children:"Top 10 dịch vụ theo gi\xe1 buổi"}),(0,n.jsx)(r.u,{width:"100%",height:eQ?180:320,children:(0,n.jsx)(m.r,{children:(0,n.jsx)(p.F,{data:eI,dataKey:"value",nameKey:"label",cx:"50%",cy:"50%",outerRadius:eQ?60:120,label:eP,children:eI.map(e=>(0,n.jsx)(N.f,{fill:e.color},e.name))})})}),(0,n.jsx)("ul",{className:"flex flex-wrap justify-center gap-2 mt-2 text-xs",children:eI.map(e=>(0,n.jsxs)("li",{className:"flex items-center gap-1",children:[(0,n.jsx)("span",{className:"inline-block w-3 h-3 rounded-full",style:{background:e.color}}),e.name]},e.name))})]}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center",children:[(0,n.jsxs)("div",{className:"w-full sm:w-1/2 bg-white rounded-xl shadow-lg mt-5 p-4",children:[(0,n.jsx)("div",{className:"text-xl font-medium text-gray-700 text-center mb-4",children:"Bottom 3 dịch vụ theo số lượng"}),(0,n.jsx)(r.u,{width:"100%",height:350,children:(0,n.jsx)(m.r,{children:(0,n.jsx)(p.F,{data:(()=>{let e=new Map;eL.forEach(t=>{let a=t.serviceName||t.type;e.set(a,(e.get(a)||0)+1)});let t=Array.from(e.entries()).sort((e,t)=>e[1]-t[1]).slice(0,3),a=["#bdbdbd","#9e9e9e","#e0e0e0"];return t.map((e,t)=>{let[n,l]=e;return{name:n,value:l,color:a[t%a.length]}})})(),dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:eQ?60:90,label:e=>{let{percent:t}=e;return t&&t>.15?"".concat((100*t).toFixed(1),"%"):""},labelLine:!1,isAnimationActive:!1,children:(()=>{let e=new Map;eL.forEach(t=>{let a=t.serviceName||t.type;e.set(a,(e.get(a)||0)+1)});let t=Array.from(e.entries()).sort((e,t)=>e[1]-t[1]).slice(0,3),a=["#bdbdbd","#9e9e9e","#e0e0e0"];return t.map((e,t)=>{let[l]=e;return(0,n.jsx)(N.f,{fill:a[t%a.length]},l)})})()})})}),(0,n.jsx)("ul",{className:"flex flex-wrap justify-center gap-2 mt-2 text-xs",children:eR.map(e=>(0,n.jsxs)("li",{className:"flex items-center gap-1",children:[(0,n.jsx)("span",{className:"inline-block w-3 h-3 rounded-full",style:{background:e.color}}),e.name]},e.name))})]}),(0,n.jsxs)("div",{className:"w-full sm:w-1/2 bg-white rounded-xl shadow-lg mt-5 p-4",children:[(0,n.jsx)("div",{className:"text-xl font-medium text-gray-700 text-center mb-4",children:"Bottom 3 dịch vụ theo gi\xe1 buổi"}),(0,n.jsx)(r.u,{width:"100%",height:350,children:(0,n.jsx)(m.r,{children:(0,n.jsx)(p.F,{data:(()=>{let e=new Map;eL.forEach(t=>{let a=t.serviceName||t.type;e.has(a)||e.set(a,{totalValue:0,count:0});let n=e.get(a);n.totalValue+=t.value,n.count+=1});let t=Array.from(e.entries()).map(e=>{let[t,{totalValue:a,count:n}]=e;return{name:t,avg:n>0?a/n:0,count:n}}).sort((e,t)=>e.avg-t.avg).slice(0,3),a=["#bdbdbd","#9e9e9e","#e0e0e0"];return t.map((e,t)=>({name:e.name,value:e.avg,color:a[t%a.length]}))})(),dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:eQ?60:90,label:e=>{let{percent:t}=e;return t&&t>.15?"".concat((100*t).toFixed(1),"%"):""},labelLine:!1,isAnimationActive:!1,children:(()=>{let e=new Map;eL.forEach(t=>{let a=t.serviceName||t.type;e.has(a)||e.set(a,{totalValue:0,count:0});let n=e.get(a);n.totalValue+=t.value,n.count+=1});let t=Array.from(e.entries()).map(e=>{let[t,{totalValue:a,count:n}]=e;return{name:t,avg:n>0?a/n:0,count:n}}).sort((e,t)=>e.avg-t.avg).slice(0,3),a=["#bdbdbd","#9e9e9e","#e0e0e0"];return t.map((e,t)=>(0,n.jsx)(N.f,{fill:a[t%a.length]},e.name))})()})})}),(0,n.jsx)("ul",{className:"flex flex-wrap justify-center gap-2 mt-2 text-xs",children:eR.map(e=>(0,n.jsxs)("li",{className:"flex items-center gap-1",children:[(0,n.jsx)("span",{className:"inline-block w-3 h-3 rounded-full",style:{background:e.color}}),e.name]},e.name))})]})]}),(0,n.jsxs)("div",{className:"flex flex-col md:flex-row w-full gap-4 mb-5 mt-5",children:[(0,n.jsx)(Y,{title:"Tổng Combo",value:ex,delta:ex-em,valueColor:"text-black",className:"bg-[#33a7b5] w-full md:flex-1"}),(0,n.jsx)(Y,{title:"Tổng dịch vụ lẻ",value:ep,delta:ep-eN,valueColor:"text-black",className:"bg-[#9b51e0] w-full md:flex-1"}),(0,n.jsx)(Y,{title:"Tổng dịch vụ CT",value:0,delta:0,valueColor:"text-black",className:"bg-[#ee2c82] w-full md:flex-1"}),(0,n.jsx)(Y,{title:"Tổng qu\xe0 tặng",value:0,delta:0,valueColor:"text-black",className:"bg-[#f16a3f] w-full md:flex-1"}),(0,n.jsx)(Y,{title:"Tổng dịch vụ thực hiện",value:eb,delta:eb-(em+eN),valueColor:"text-black",className:"bg-[#7adcb4] w-full md:flex-1"})]}),(0,n.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-lg mt-5 p-4",children:[(0,n.jsx)("div",{className:"text-xl font-medium text-gray-700 text-center mb-4",children:"Tổng dịch vụ thực hiện theo cửa h\xe0ng"}),(0,n.jsx)("div",{className:"w-full overflow-x-auto",children:(0,n.jsx)("div",{className:"min-w-[600px] md:min-w-0 ",children:(0,n.jsx)(r.u,{width:eQ?500:"100%",height:eQ?400:500,children:(0,n.jsxs)(c.E,{data:eC,layout:"vertical",margin:{top:20,right:30,left:eQ?40:100,bottom:20},children:[(0,n.jsx)(s.d,{strokeDasharray:"3 3"}),(0,n.jsx)(d.W,{type:"number",tickFormatter:e=>e>=1e3?"".concat(e/1e3,"k"):e,tick:{fontSize:eQ?10:14}}),(0,n.jsx)(u.h,{dataKey:"store",type:"category",tick:{fontSize:eQ?10:12},width:eQ?120:150}),(0,n.jsx)(g.m,{}),(0,n.jsx)(h.s,{wrapperStyle:{fontSize:eQ?10:14}}),(0,n.jsx)(x.y,{dataKey:"combo",name:"Combo",stackId:"a",fill:"#795548"}),(0,n.jsx)(x.y,{dataKey:"service",name:"Dịch vụ",stackId:"a",fill:"#c5e1a5"}),(0,n.jsx)(x.y,{dataKey:"addedon",name:"Added on",stackId:"a",fill:"#f16a3f"}),(0,n.jsx)(x.y,{dataKey:"gifts",name:"Gifts",stackId:"a",fill:"#8fd1fc"}),(0,n.jsx)(x.y,{dataKey:"foxcard",name:"Fox card",stackId:"a",fill:"#c86b82"})]})})})})]}),(0,n.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-lg mt-5 p-4",children:[(0,n.jsx)("div",{className:"text-xl font-medium text-gray-700 text-center mb-4",children:"Bảng dịch vụ"}),(0,n.jsxs)("div",{className:"overflow-x-auto",children:[(0,n.jsx)("table",{className:"text-xs sm:text-sm border table-fixed",style:{tableLayout:"fixed",width:"100%"},children:(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{className:"bg-yellow-200 text-gray-900",children:[(0,n.jsx)("th",{className:"w-12 px-2 py-2 border text-center font-bold",children:"STT"}),(0,n.jsx)("th",{className:"w-64 px-2 py-2 border text-left font-bold",children:"Dịch vụ"}),(0,n.jsx)("th",{className:"w-24 px-2 py-2 border text-center font-bold",children:"Loại"}),(0,n.jsx)("th",{className:"w-20 px-2 py-2 border text-right font-bold bg-orange-100",children:"Số lượng"}),(0,n.jsx)("th",{className:"w-20 px-2 py-2 border text-right font-bold",children:"Δ"}),(0,n.jsx)("th",{className:"w-24 px-2 py-2 border text-right font-bold",children:"% Số lượng"}),(0,n.jsx)("th",{className:"w-32 px-2 py-2 border text-right font-bold bg-blue-100",children:"Tổng gi\xe1"}),(0,n.jsx)("th",{className:"w-20 px-2 py-2 border text-right font-bold",children:"% Δ"}),(0,n.jsx)("th",{className:"w-24 px-2 py-2 border text-right font-bold",children:"% Tổng gi\xe1"})]})})}),(0,n.jsx)("div",{style:{maxHeight:400,overflowY:"auto",scrollbarWidth:"none",msOverflowStyle:"none",width:"100%"},children:(0,n.jsx)("table",{className:"min-w-[700px] text-xs sm:text-sm border table-fixed",style:{tableLayout:"fixed",width:"100%"},children:(0,n.jsx)("tbody",{children:eK.map((e,t)=>{var a,l,o,i,r,c,s,d;let u=Math.floor(1e3*Math.random())*(Math.random()>.2?1:-1),g=u>0?(10*Math.random()+100).toFixed(1):(10*Math.random()+90).toFixed(1);return(0,n.jsxs)("tr",{className:t%2==0?"bg-white":"bg-gray-50",children:[(0,n.jsx)("td",{className:"w-12 px-2 py-1 border text-center",children:t+1}),(0,n.jsx)("td",{className:"w-64 px-2 py-1 border text-left font-medium truncate",title:e.tenDichVu,children:e.tenDichVu}),(0,n.jsx)("td",{className:"w-24 px-2 py-1 border text-center",children:e.loaiDichVu}),(0,n.jsx)("td",{className:"w-20 px-2 py-1 border text-right font-bold bg-orange-100 text-orange-700",children:null!=(c=null==(l=e.soLuong)||null==(a=l.toLocaleString)?void 0:a.call(l))?c:e.soLuong}),(0,n.jsxs)("td",{className:"w-20 px-2 py-1 border text-right font-semibold ".concat(u>0?"text-green-600":u<0?"text-red-500":""),children:[null!=(s=null==u||null==(o=u.toLocaleString)?void 0:o.call(u))?s:u," ",u>0?"↑":u<0?"↓":""]}),(0,n.jsxs)("td",{className:"w-24 px-2 py-1 border text-right",children:[e.percentSoLuong,"%"]}),(0,n.jsx)("td",{className:"w-32 px-2 py-1 border text-right font-bold bg-blue-100 text-blue-700",children:null!=(d=null==(r=e.tongGia)||null==(i=r.toLocaleString)?void 0:i.call(r))?d:e.tongGia}),(0,n.jsxs)("td",{className:"w-20 px-2 py-1 border text-right font-semibold ".concat(u>0?"text-green-600":u<0?"text-red-500":""),children:[g,"%"," ",u>0?"↑":u<0?"↓":""]}),(0,n.jsxs)("td",{className:"w-24 px-2 py-1 border text-right",children:[e.percentTongGia,"%"]})]},"".concat(e.tenDichVu,"-").concat(t))})})})}),(0,n.jsx)("table",{className:"min-w-[700px] text-xs sm:text-sm border table-fixed",style:{tableLayout:"fixed",width:"100%"},children:(0,n.jsx)("tfoot",{className:"display:block",children:(0,n.jsxs)("tr",{className:"bg-gray-100 font-bold border-t-2 border-gray-400",children:[(0,n.jsx)("td",{className:"w-12 px-2 py-1 border text-center"}),(0,n.jsx)("td",{className:"w-64 px-2 py-1 border text-left",children:"Tổng cộng"}),(0,n.jsx)("td",{className:"w-24 px-2 py-1 border text-center"}),(0,n.jsx)("td",{className:"w-20 px-2 py-1 border text-right bg-orange-100 text-orange-700",children:eK.reduce((e,t)=>e+(t.soLuong||0),0).toLocaleString()}),(0,n.jsx)("td",{className:"w-20 px-2 py-1 border text-right",children:"—"}),(0,n.jsx)("td",{className:"w-24 px-2 py-1 border text-right",children:"100%"}),(0,n.jsx)("td",{className:"w-32 px-2 py-1 border text-right bg-blue-100 text-blue-700",children:eK.reduce((e,t)=>e+(t.tongGia||0),0).toLocaleString()}),(0,n.jsx)("td",{className:"w-20 px-2 py-1 border text-right",children:"—"}),(0,n.jsx)("td",{className:"w-24 px-2 py-1 border text-right",children:"100%"})]})})})]})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[897,441,684,358],()=>t(36201)),_N_E=e.O()}]);