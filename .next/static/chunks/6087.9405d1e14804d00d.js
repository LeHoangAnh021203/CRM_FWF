"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6087],{76087:(e,t,a)=>{a.r(t),a.d(t,{default:()=>x});var n=a(95155),r=a(12115),i=a(83540),d=a(3401),o=a(94754),u=a(96025),l=a(52071),f=a(27086),g=a(64683),s=a(56690),m=a(36079);let x=e=>{let{regionalSalesByDay:t,formatAxisDate:a}=e,[x,c]=r.useState(!1),h=r.useMemo(()=>{let e={HCM:{date:"",value:0},HaNoi:{date:"",value:0},DaNang:{date:"",value:0},NhaTrang:{date:"",value:0},DaDongCua:{date:"",value:0},VungTau:{date:"",value:0}};return t.forEach(t=>{(t.HCM||0)>e.HCM.value&&(e.HCM={date:t.date,value:t.HCM||0}),(t.HaNoi||0)>e.HaNoi.value&&(e.HaNoi={date:t.date,value:t.HaNoi||0}),(t.DaNang||0)>e.DaNang.value&&(e.DaNang={date:t.date,value:t.DaNang||0}),(t.NhaTrang||0)>e.NhaTrang.value&&(e.NhaTrang={date:t.date,value:t.NhaTrang||0}),(t.DaDongCua||0)>e.DaDongCua.value&&(e.DaDongCua={date:t.date,value:t.DaDongCua||0}),(t.VungTau||0)>e.VungTau.value&&(e.VungTau={date:t.date,value:t.VungTau||0})}),e},[t]),p=r.useMemo(()=>{let e=new Map;return t.forEach(t=>{let a=[t.HCM||0,t.HaNoi||0,t.DaNang||0,t.NhaTrang||0,t.DaDongCua||0,t.VungTau||0];e.set(t.date,Math.max(...a))}),e},[t]);return r.useEffect(()=>{let e=()=>{c(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,n.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-lg mt-5 p-2 sm:p-4",children:[(0,n.jsx)("div",{className:"text-sm sm:text-base md:text-xl font-medium text-gray-700 text-center mb-4",children:"Tổng doanh số v\xf9ng"}),(0,n.jsx)("div",{className:"w-full overflow-x-auto",children:(0,n.jsx)(i.u,{width:"100%",height:x?300:400,minWidth:280,children:(0,n.jsxs)(d.E,{data:t,margin:{top:x?30:50,right:x?10:30,left:x?10:20,bottom:x?20:5},children:[(0,n.jsx)(o.d,{strokeDasharray:"3 3"}),(0,n.jsx)(u.W,{dataKey:"date",tickFormatter:a,fontSize:x?10:12,angle:x?-45:0,textAnchor:x?"end":"middle",height:x?60:30,tick:e=>{let{x:t,y:r,payload:i}=e,d=i.value,o=(()=>{if(!d)return!1;let e=String(d).match(/^(\d{4})-(\d{2})-(\d{2})/);if(e){let[,t,a,n]=e,r=new Date(parseInt(t),parseInt(a)-1,parseInt(n)).getDay();return 0===r||6===r}return!1})();return(0,n.jsx)("g",{transform:"translate(".concat(t,",").concat(r,")"),children:(0,n.jsx)("text",{x:0,y:0,dy:16,textAnchor:"middle",fill:o?"#dc2626":"#6b7280",fontSize:x?10:12,fontWeight:o?"bold":"normal",children:a(d)})})}}),(0,n.jsx)(l.h,{tickFormatter:e=>"number"==typeof e&&e>=1e6?(e/1e6).toFixed(1)+"M":"number"==typeof e?e.toLocaleString():e,fontSize:x?10:12,width:x?60:80}),(0,n.jsx)(f.m,{formatter:e=>"number"==typeof e?e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e.toLocaleString():e,contentStyle:{fontSize:x?12:14,backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #ccc",borderRadius:"4px",padding:"8px"}}),(0,n.jsx)(g.s,{wrapperStyle:{fontSize:x?10:12,paddingTop:x?10:20}}),(0,n.jsx)(s.y,{dataKey:"HCM",name:"HCM",fill:"#ff7f7f",children:(0,n.jsx)(m.Z,{dataKey:"HCM",position:"top",fontSize:x?10:12,fill:"#ff7f7f",formatter:e=>{if("number"==typeof e&&0===e)return"";if(x){let a=t.find(t=>t.HCM===e);return a&&a.date===h.HCM.date&&e===h.HCM.value?(e/1e6).toFixed(1)+"M":""}{let a=t.find(t=>t.HCM===e);if(!a)return"";let n=p.get(a.date)||0;return"number"==typeof e&&e===n&&e>0?(e/1e6).toFixed(1)+"M":""}}})}),(0,n.jsx)(s.y,{dataKey:"HaNoi",name:"H\xe0 Nội",fill:"#b39ddb",children:(0,n.jsx)(m.Z,{dataKey:"HaNoi",position:"top",fontSize:x?10:12,fill:"#b39ddb",formatter:e=>{if("number"==typeof e&&0===e)return"";if(x){let a=t.find(t=>t.HaNoi===e);return a&&a.date===h.HaNoi.date&&e===h.HaNoi.value?(e/1e6).toFixed(1)+"M":""}{let a=t.find(t=>t.HaNoi===e);if(!a)return"";let n=p.get(a.date)||0;return"number"==typeof e&&e===n&&e>0?(e/1e6).toFixed(1)+"M":""}}})}),(0,n.jsx)(s.y,{dataKey:"DaNang",name:"Đ\xe0 Nẵng",fill:"#8d6e63",children:(0,n.jsx)(m.Z,{dataKey:"DaNang",position:"top",fontSize:x?10:12,fill:"#8d6e63",formatter:e=>{if("number"==typeof e&&0===e)return"";if(x){let a=t.find(t=>t.DaNang===e);return a&&a.date===h.DaNang.date&&e===h.DaNang.value?(e/1e6).toFixed(1)+"M":""}{let a=t.find(t=>t.DaNang===e);if(!a)return"";let n=p.get(a.date)||0;return"number"==typeof e&&e===n&&e>0?(e/1e6).toFixed(1)+"M":""}}})}),(0,n.jsx)(s.y,{dataKey:"NhaTrang",name:"Nha Trang",fill:"#c5e1a5",children:(0,n.jsx)(m.Z,{dataKey:"NhaTrang",position:"top",fontSize:x?10:12,fill:"#c5e1a5",formatter:e=>{if("number"==typeof e&&0===e)return"";if(x){let a=t.find(t=>t.NhaTrang===e);return a&&a.date===h.NhaTrang.date&&e===h.NhaTrang.value?(e/1e6).toFixed(1)+"M":""}{let a=t.find(t=>t.NhaTrang===e);if(!a)return"";let n=p.get(a.date)||0;return"number"==typeof e&&e===n&&e>0?(e/1e6).toFixed(1)+"M":""}}})}),(0,n.jsx)(s.y,{dataKey:"DaDongCua",stackId:"a",name:"Đ\xe3 đ\xf3ng cửa",fill:"#f0bf4c",children:(0,n.jsx)(m.Z,{dataKey:"DaDongCua",position:"top",fontSize:x?10:12,fill:"#f0bf4c",formatter:e=>{if("number"==typeof e&&0===e)return"";if(x){let a=t.find(t=>t.DaDongCua===e);return a&&a.date===h.DaDongCua.date&&e===h.DaDongCua.value?(e/1e6).toFixed(1)+"M":""}{let a=t.find(t=>t.DaDongCua===e);if(!a)return"";let n=p.get(a.date)||0;return"number"==typeof e&&e===n&&e>0?(e/1e6).toFixed(1)+"M":""}}})}),(0,n.jsx)(s.y,{dataKey:"VungTau",stackId:"a",name:"Vũng T\xe0u",fill:"#4db6ac",children:(0,n.jsx)(m.Z,{dataKey:"VungTau",position:"top",fontSize:x?10:12,fill:"#4db6ac",formatter:e=>{if("number"==typeof e&&0===e)return"";if(x){let a=t.find(t=>t.VungTau===e);return a?a.date===h.VungTau.date&&e===h.VungTau.value?e>=1e6?(e/1e6).toFixed(1)+"M":e.toString():"":""}{let a=t.find(t=>t.VungTau===e);if(!a)return"";let n=p.get(a.date)||0;return"number"==typeof e&&e===n&&e>0?e>=1e6?(e/1e6).toFixed(1)+"M":e.toString():""}}})}),(0,n.jsx)(m.Z,{dataKey:"total",position:"top",formatter:e=>"number"==typeof e?e.toLocaleString():"",style:{fontWeight:"bold",fill:"#f0bf4c",fontSize:x?12:16}})]})})})]})}}}]);