"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4214],{14214:(e,t,r)=>{r.r(t),r.d(t,{default:()=>h});var a=r(95155),i=r(12115),n=r(83540),o=r(3401),d=r(94754),l=r(96025),f=r(52071),u=r(27086),K=r(64683),m=r(56690),c=r(36079);let h=e=>{let{isMobile:t,customerTypeSalesByDay:r}=e,h=i.useMemo(()=>{let e=new Map;return r.forEach(t=>{let r=[t.KHTraiNghiem||0,t.KHIron||0,t.KHSilver||0,t.KHBronze||0,t.KHDiamond||0,t.Khac||0];e.set(t.date,Math.max(...r))}),e},[r]),s=i.useMemo(()=>{let e={KHTraiNghiem:{date:"",value:0},KHIron:{date:"",value:0},KHSilver:{date:"",value:0},KHBronze:{date:"",value:0},KHDiamond:{date:"",value:0},Khac:{date:"",value:0}};return r.forEach(t=>{(t.KHTraiNghiem||0)>e.KHTraiNghiem.value&&(e.KHTraiNghiem={date:t.date,value:t.KHTraiNghiem||0}),(t.KHIron||0)>e.KHIron.value&&(e.KHIron={date:t.date,value:t.KHIron||0}),(t.KHSilver||0)>e.KHSilver.value&&(e.KHSilver={date:t.date,value:t.KHSilver||0}),(t.KHBronze||0)>e.KHBronze.value&&(e.KHBronze={date:t.date,value:t.KHBronze||0}),(t.KHDiamond||0)>e.KHDiamond.value&&(e.KHDiamond={date:t.date,value:t.KHDiamond||0}),(t.Khac||0)>e.Khac.value&&(e.Khac={date:t.date,value:t.Khac||0})}),e},[r]);return(0,a.jsxs)("div",{className:"w-full bg-white rounded-xl shadow-lg mt-5 p-2 sm:p-4",children:[(0,a.jsx)("div",{className:"text-base sm:text-xl font-medium text-gray-700 text-center mb-4",children:"Tổng thực thu theo loại kh\xe1ch h\xe0ng trong tuần"}),(0,a.jsx)("div",{className:"w-full overflow-x-auto",children:(0,a.jsx)(n.u,{width:"100%",height:t?300:400,minWidth:280,children:(0,a.jsxs)(o.E,{data:r,margin:{top:t?30:50,right:t?10:30,left:t?10:20,bottom:t?20:5},children:[(0,a.jsx)(d.d,{strokeDasharray:"3 3"}),(0,a.jsx)(l.W,{dataKey:"date",angle:t?-45:0,textAnchor:t?"end":"middle",height:t?60:30,fontSize:t?10:12,tickFormatter:e=>{if(!e||"string"!=typeof e)return e;if(e.includes("-")){let t=new Date(e);if(!isNaN(t.getTime()))return"".concat(String(t.getDate()).padStart(2,"0"),"/").concat(String(t.getMonth()+1).padStart(2,"0"))}return e},tick:e=>{let{x:r,y:i,payload:n}=e,o=n.value,d=(()=>{if(!o)return!1;let e=String(o).match(/^(\d{4})-(\d{2})-(\d{2})/);if(e){let[,t,r,a]=e,i=new Date(parseInt(t),parseInt(r)-1,parseInt(a)).getDay();return 0===i||6===i}return!1})();return(0,a.jsx)("g",{transform:"translate(".concat(r,",").concat(i,")"),children:(0,a.jsx)("text",{x:0,y:0,dy:16,textAnchor:t?"end":"middle",fill:d?"#dc2626":"#6b7280",fontSize:t?10:12,fontWeight:d?"bold":"normal",children:(()=>{if(!o||"string"!=typeof o)return o;if(o.includes("-")){let e=new Date(o);if(!isNaN(e.getTime()))return"".concat(String(e.getDate()).padStart(2,"0"),"/").concat(String(e.getMonth()+1).padStart(2,"0"))}return o})()})})}}),(0,a.jsx)(f.h,{tickFormatter:e=>"number"==typeof e&&e>=1e6?(e/1e6).toFixed(1)+"M":"number"==typeof e?e.toLocaleString():e,fontSize:t?10:12,width:t?60:80}),(0,a.jsx)(u.m,{formatter:e=>"number"==typeof e?e>=1e6?(e/1e6).toFixed(1)+"M":e.toLocaleString():e,contentStyle:{fontSize:t?12:14,backgroundColor:"rgba(255, 255, 255, 0.95)",border:"1px solid #ccc",borderRadius:"4px",padding:"8px"}}),(0,a.jsx)(K.s,{wrapperStyle:{fontSize:t?10:12,paddingTop:t?10:20}}),(0,a.jsx)(m.y,{dataKey:"KHTraiNghiem",name:"KH trải nghiệm",fill:"#8d6e63",maxBarSize:t?120:150,children:(0,a.jsx)(c.Z,{dataKey:"KHTraiNghiem",position:"top",fontSize:t?10:12,fill:"#8d6e63",formatter:e=>{if("number"==typeof e&&0===e)return"";if(t){let t=r.find(t=>t.KHTraiNghiem===e);return t?t.date===s.KHTraiNghiem.date&&e===s.KHTraiNghiem.value?e>=1e6?(e/1e6).toFixed(1)+"M":e.toString():"":""}{let t=r.find(t=>t.KHTraiNghiem===e);if(!t)return"";let a=h.get(t.date)||0;return"number"==typeof e&&e===a&&e>0?e>=1e6?(e/1e6).toFixed(1)+"M":e.toString():""}}})}),(0,a.jsx)(m.y,{dataKey:"KHIron",name:"KH Iron",fill:"#b6d47a",maxBarSize:t?120:150,children:(0,a.jsx)(c.Z,{dataKey:"KHIron",position:"top",fontSize:t?10:12,fill:"#b6d47a",formatter:e=>{if("number"==typeof e&&0===e)return"";if(t){let t=r.find(t=>t.KHIron===e);return t?t.date===s.KHIron.date&&e===s.KHIron.value?e>=1e6?(e/1e6).toFixed(1)+"M":e.toString():"":""}{let t=r.find(t=>t.KHIron===e);if(!t)return"";let a=h.get(t.date)||0;return"number"==typeof e&&e===a&&e>0?e>=1e6?(e/1e6).toFixed(1)+"M":e.toString():""}}})}),(0,a.jsx)(m.y,{dataKey:"KHSilver",name:"KH Silver",fill:"#ff7f7f",maxBarSize:t?120:150,children:(0,a.jsx)(c.Z,{dataKey:"KHSilver",position:"top",fontSize:t?10:12,fill:"#ff7f7f",formatter:e=>{if("number"==typeof e&&0===e)return"";if(t){let t=r.find(t=>t.KHSilver===e);return t?t.date===s.KHSilver.date&&e===s.KHSilver.value?e>=1e6?(e/1e6).toFixed(1)+"M":e.toString():"":""}{let t=r.find(t=>t.KHSilver===e);if(!t)return"";let a=h.get(t.date)||0;return"number"==typeof e&&e===a&&e>0?e>=1e6?(e/1e6).toFixed(1)+"M":e.toString():""}}})}),(0,a.jsx)(m.y,{dataKey:"KHBronze",name:"KH Bronze",fill:"#81d4fa",maxBarSize:t?120:150,children:(0,a.jsx)(c.Z,{dataKey:"KHBronze",position:"top",fontSize:t?10:12,fill:"#81d4fa",formatter:e=>{if("number"==typeof e&&0===e)return"";if(t){let t=r.find(t=>t.KHBronze===e);return t?t.date===s.KHBronze.date&&e===s.KHBronze.value?e>=1e6?(e/1e6).toFixed(1)+"M":e.toString():"":""}{let t=r.find(t=>t.KHBronze===e);if(!t)return"";let a=h.get(t.date)||0;return"number"==typeof e&&e===a&&e>0?e>=1e6?(e/1e6).toFixed(1)+"M":e.toString():""}}})}),(0,a.jsx)(m.y,{dataKey:"KHDiamond",name:"KH Diamond",fill:"#f0bf4c",maxBarSize:t?120:150,children:(0,a.jsx)(c.Z,{dataKey:"KHDiamond",position:"top",fontSize:t?10:12,fill:"#f0bf4c",formatter:e=>{if("number"==typeof e&&0===e)return"";if(t){let t=r.find(t=>t.KHDiamond===e);return t?t.date===s.KHDiamond.date&&e===s.KHDiamond.value?e>=1e6?(e/1e6).toFixed(1)+"M":e.toString():"":""}{let t=r.find(t=>t.KHDiamond===e);if(!t)return"";let a=h.get(t.date)||0;return"number"==typeof e&&e===a&&e>0?e>=1e6?(e/1e6).toFixed(1)+"M":e.toString():""}}})}),(0,a.jsx)(m.y,{dataKey:"Khac",name:"Kh\xe1c",fill:"#bccefb",maxBarSize:t?120:150,children:(0,a.jsx)(c.Z,{dataKey:"Khac",position:"top",fontSize:t?10:12,fill:"#bccefb",formatter:e=>{if("number"==typeof e&&0===e)return"";if(t){let t=r.find(t=>t.Khac===e);return t?t.date===s.Khac.date&&e===s.Khac.value?e>=1e6?(e/1e6).toFixed(1)+"M":e.toString():"":""}{let t=r.find(t=>t.Khac===e);if(!t)return"";let a=h.get(t.date)||0;return"number"==typeof e&&e===a&&e>0?e>=1e6?(e/1e6).toFixed(1)+"M":e.toString():""}}})})]})})})]})}}}]);